if(void 0===__webpack_require__)var __webpack_require__={};(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3157],{7023:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"chapter-06/lesson-01","title":"Lesson 6.1: Bipedal Locomotion Basics","description":"Walking gaits, stability, Zero Moment Point (ZMP)","source":"@site/docs/chapter-06/lesson-01.md","sourceDirName":"chapter-06","slug":"/chapter-06/lesson-01","permalink":"/physical-ai-book/docs/chapter-06/lesson-01","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"humanoid","permalink":"/physical-ai-book/docs/tags/humanoid"},{"inline":true,"label":"kinematics","permalink":"/physical-ai-book/docs/tags/kinematics"},{"inline":true,"label":"dynamics","permalink":"/physical-ai-book/docs/tags/dynamics"},{"inline":true,"label":"bipedal","permalink":"/physical-ai-book/docs/tags/bipedal"},{"inline":true,"label":"locomotion","permalink":"/physical-ai-book/docs/tags/locomotion"}],"version":"current","frontMatter":{"title":"Lesson 6.1: Bipedal Locomotion Basics","description":"Walking gaits, stability, Zero Moment Point (ZMP)","chapter":6,"lesson":1,"estimated_time":60,"cefr_level":"B2","blooms_level":"Apply","digcomp_level":5,"generated_by":"claude-sonnet-4-5-20250929","source_spec":"specs/002-physical-ai-textbook/spec.md","created":"2025-11-29","last_modified":"2025-11-29","git_author":"hswat","workflow":"/sp.implement","version":"1.0","prerequisites":["chapter-04-lesson-03","chapter-05-lesson-04"],"has_interactive_python":false,"interactive_python_count":0,"has_try_with_ai":true,"try_with_ai_count":2,"tags":["humanoid","kinematics","dynamics","bipedal","locomotion"]},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 6 Quiz","permalink":"/physical-ai-book/docs/chapter-06/quiz"},"next":{"title":"Lesson 6.2: Balance Control","permalink":"/physical-ai-book/docs/chapter-06/lesson-02"}}');var t=n(4848),i=n(8453);const l={title:"Lesson 6.1: Bipedal Locomotion Basics",description:"Walking gaits, stability, Zero Moment Point (ZMP)",chapter:6,lesson:1,estimated_time:60,cefr_level:"B2",blooms_level:"Apply",digcomp_level:5,generated_by:"claude-sonnet-4-5-20250929",source_spec:"specs/002-physical-ai-textbook/spec.md",created:"2025-11-29",last_modified:"2025-11-29",git_author:"hswat",workflow:"/sp.implement",version:"1.0",prerequisites:["chapter-04-lesson-03","chapter-05-lesson-04"],has_interactive_python:!1,interactive_python_count:0,has_try_with_ai:!0,try_with_ai_count:2,tags:["humanoid","kinematics","dynamics","bipedal","locomotion"]},r="Lesson 6.1: Humanoid Kinematics and Dynamics",c={},o=[{value:"Introduction",id:"introduction",level:2},{value:"1. Gait Cycle Fundamentals",id:"1-gait-cycle-fundamentals",level:2},{value:"2. Static vs. Dynamic Stability",id:"2-static-vs-dynamic-stability",level:2},{value:"3. Zero Moment Point (ZMP)",id:"3-zero-moment-point-zmp",level:2},{value:"Interactive Exercises",id:"interactive-exercises",level:2},{value:"Exercise 6.1.1: Gait Phase Analyzer",id:"exercise-611-gait-phase-analyzer",level:3},{value:"Exercise 6.1.2: ZMP Calculator for Point Masses",id:"exercise-612-zmp-calculator-for-point-masses",level:3},{value:"Exercise 6.1.3: Static Walking Trajectory Generator",id:"exercise-613-static-walking-trajectory-generator",level:3},{value:"Exercise 6.1.4: ZMP Trajectory Validation",id:"exercise-614-zmp-trajectory-validation",level:3},{value:"TryWithAI Exercises",id:"trywithai-exercises",level:2},{value:"TryWithAI 6.1.1: Dynamic Gait Optimization",id:"trywithai-611-dynamic-gait-optimization",level:3},{value:"TryWithAI 6.1.2: Stair Climbing Planner",id:"trywithai-612-stair-climbing-planner",level:3},{value:"Summary",id:"summary",level:2}];function m(s){const e={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mover:"mover",mrow:"mrow",msub:"msub",mtext:"mtext",munder:"munder",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"lesson-61-humanoid-kinematics-and-dynamics",children:"Lesson 6.1: Humanoid Kinematics and Dynamics"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prerequisites"}),": ",(0,t.jsx)(e.a,{href:"/physical-ai-book/docs/chapter-04/",children:"Chapter 4: Kinematics"}),", ",(0,t.jsx)(e.a,{href:"/physical-ai-book/docs/chapter-05/",children:"Chapter 5: Dynamics"})]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsx)(e.p,{children:"Bipedal locomotion enables humanoid robots to navigate human-designed environments. Unlike wheeled systems, walking requires continuous balance management and precise coordination of multiple joints. This lesson introduces gait cycles, stability metrics, and the Zero Moment Point (ZMP) criterion."}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Learning Objectives"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Define phases of the bipedal gait cycle"}),"\n",(0,t.jsx)(e.li,{children:"Calculate the Zero Moment Point (ZMP) from foot forces"}),"\n",(0,t.jsx)(e.li,{children:"Implement static walking with stability constraints"}),"\n",(0,t.jsx)(e.li,{children:"Generate simple walking trajectories"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"1-gait-cycle-fundamentals",children:"1. Gait Cycle Fundamentals"}),"\n",(0,t.jsxs)(e.p,{children:["A ",(0,t.jsx)(e.strong,{children:"gait cycle"})," comprises stance phase (foot on ground) and swing phase (foot in air). For bipedal walking:"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Double Support"}),": Both feet on ground (20% of cycle)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Single Support"}),": One foot on ground, other swings (60%)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Flight Phase"}),": Both feet off ground (running only, 0% for walking)"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"Key parameters:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Step length"})," ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"s"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.4306em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"s"})]})})]}),": Distance between consecutive foot placements"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Step height"})," ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"h"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"h"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"h"})]})})]}),": Maximum swing foot clearance"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Cadence"})," ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"f"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"f"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"})]})})]}),": Steps per second"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Duty factor"})," ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"\u03b2"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\beta"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05278em"},children:"\u03b2"})]})})]}),": Fraction of cycle with foot on ground"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"2-static-vs-dynamic-stability",children:"2. Static vs. Dynamic Stability"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Static Stability"}),": Center of Mass (CoM) projection stays within support polygon."]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Dynamic Stability"}),": Accounts for momentum; uses Zero Moment Point (ZMP)."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"3-zero-moment-point-zmp",children:"3. Zero Moment Point (ZMP)"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.strong,{children:"ZMP"})," is the point on the ground where the net moment from gravity and inertia is zero. For stable walking, ZMP must lie within the support polygon."]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"ZMP Calculation"})," (simplified, 2D sagittal plane):"]}),"\n",(0,t.jsx)(e.span,{className:"katex-display",children:(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"x"}),(0,t.jsx)(e.mtext,{children:"ZMP"})]}),(0,t.jsx)(e.mo,{children:"="}),(0,t.jsxs)(e.mfrac,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsxs)(e.munder,{children:[(0,t.jsx)(e.mo,{children:"\u2211"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"g"}),(0,t.jsx)(e.mo,{children:"+"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsx)(e.mi,{children:"z"}),(0,t.jsx)(e.mo,{children:"\xa8"})]}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"x"}),(0,t.jsx)(e.mi,{children:"i"})]})]}),(0,t.jsxs)(e.mrow,{children:[(0,t.jsxs)(e.munder,{children:[(0,t.jsx)(e.mo,{children:"\u2211"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsx)(e.mi,{children:"g"}),(0,t.jsx)(e.mo,{children:"+"}),(0,t.jsxs)(e.msub,{children:[(0,t.jsxs)(e.mover,{accent:"true",children:[(0,t.jsx)(e.mi,{children:"z"}),(0,t.jsx)(e.mo,{children:"\xa8"})]}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]})]})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"x_{\\text{ZMP}} = \\frac{\\sum_i m_i (g + \\ddot{z}_i) x_i}{\\sum_i m_i (g + \\ddot{z}_i)}"})]})})}),(0,t.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:(0,t.jsx)(e.span,{className:"mord text mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"ZMP"})})})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,t.jsx)(e.span,{className:"mrel",children:"="}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"2.4254em",verticalAlign:"-0.9857em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,t.jsx)(e.span,{className:"mfrac",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsxs)(e.span,{className:"vlist",style:{height:"1.4397em"},children:[(0,t.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsxs)(e.span,{className:"mop",children:[(0,t.jsx)(e.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.162em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.2997em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(e.span,{className:"mbin",children:"+"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"})]}),(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"accent-body",style:{left:"-0.1944em"},children:(0,t.jsx)(e.span,{className:"mord",children:"\xa8"})})]})]})})})}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})]}),(0,t.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,t.jsxs)(e.span,{style:{top:"-3.6897em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsxs)(e.span,{className:"mop",children:[(0,t.jsx)(e.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.162em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.2997em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsx)(e.span,{className:"mbin",children:"+"}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord accent",children:(0,t.jsx)(e.span,{className:"vlist-t",children:(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsxs)(e.span,{className:"vlist",style:{height:"0.6679em"},children:[(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"})]}),(0,t.jsxs)(e.span,{style:{top:"-3em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,t.jsx)(e.span,{className:"accent-body",style:{left:"-0.1944em"},children:(0,t.jsx)(e.span,{className:"mord",children:"\xa8"})})]})]})})})}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:")"}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]})]})]})]}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.9857em"},children:(0,t.jsx)(e.span,{})})})]})}),(0,t.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,t.jsx)(e.p,{children:"Where:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"m"}),(0,t.jsx)(e.mi,{children:"i"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"m_i"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"m"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]})]})})]}),": Mass of link ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"i"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6595em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})})]})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsxs)(e.mrow,{children:[(0,t.jsx)(e.mo,{stretchy:"false",children:"("}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"x"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{separator:"true",children:","}),(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"z"}),(0,t.jsx)(e.mi,{children:"i"})]}),(0,t.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"(x_i, z_i)"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,t.jsx)(e.span,{className:"mopen",children:"("}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mpunct",children:","}),(0,t.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.044em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]}),(0,t.jsx)(e.span,{className:"mclose",children:")"})]})})]}),": CoM position of link ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"i"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.6595em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})})]})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsx)(e.mi,{children:"g"})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"g"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,t.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"})]})})]}),": Gravity (9.81 m/s\xb2)"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["For stable walking: ",(0,t.jsxs)(e.span,{className:"katex",children:[(0,t.jsx)(e.span,{className:"katex-mathml",children:(0,t.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,t.jsxs)(e.semantics,{children:[(0,t.jsx)(e.mrow,{children:(0,t.jsxs)(e.msub,{children:[(0,t.jsx)(e.mi,{children:"x"}),(0,t.jsx)(e.mtext,{children:"ZMP"})]})}),(0,t.jsx)(e.annotation,{encoding:"application/x-tex",children:"x_{\\text{ZMP}}"})]})})}),(0,t.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,t.jsxs)(e.span,{className:"base",children:[(0,t.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,t.jsxs)(e.span,{className:"mord",children:[(0,t.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,t.jsx)(e.span,{className:"msupsub",children:(0,t.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,t.jsxs)(e.span,{className:"vlist-r",children:[(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,t.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,t.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,t.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:(0,t.jsx)(e.span,{className:"mord text mtight",children:(0,t.jsx)(e.span,{className:"mord mtight",children:"ZMP"})})})})]})}),(0,t.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,t.jsx)(e.span,{className:"vlist-r",children:(0,t.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,t.jsx)(e.span,{})})})]})})]})]})})]})," must stay between foot boundaries."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"interactive-exercises",children:"Interactive Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"exercise-611-gait-phase-analyzer",children:"Exercise 6.1.1: Gait Phase Analyzer"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"\"\"\"Analyze gait cycle phases from step timing.\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom typing import Tuple\n\ndef analyze_gait_cycle(\n    step_duration: float,\n    double_support_ratio: float = 0.2\n) -> Tuple[np.ndarray, np.ndarray]:\n    \"\"\"\n    Generate gait phase timeline.\n\n    Args:\n        step_duration: Duration of one step (s)\n        double_support_ratio: Fraction of cycle in double support\n\n    Returns:\n        times: Time array (s)\n        phases: Phase indicators (0=double, 1=left single, 2=right single)\n    \"\"\"\n    dt = 0.01\n    times = np.arange(0, step_duration * 2, dt)\n    phases = np.zeros_like(times)\n\n    ds_time = step_duration * double_support_ratio\n\n    for i, t in enumerate(times):\n        t_mod = t % step_duration\n\n        if t_mod < ds_time:\n            phases[i] = 0  # Double support\n        elif t < step_duration:\n            phases[i] = 1  # Left single support\n        else:\n            phases[i] = 2  # Right single support\n\n    return times, phases\n\n# Test: Standard walking gait\ntimes, phases = analyze_gait_cycle(step_duration=0.6, double_support_ratio=0.2)\n\nplt.figure(figsize=(10, 3))\nplt.fill_between(times, 0, 1, where=(phases==0), alpha=0.3, color='gray', label='Double Support')\nplt.fill_between(times, 0, 1, where=(phases==1), alpha=0.3, color='blue', label='Left Single')\nplt.fill_between(times, 0, 1, where=(phases==2), alpha=0.3, color='red', label='Right Single')\nplt.xlabel('Time (s)')\nplt.ylabel('Phase')\nplt.title('Bipedal Gait Cycle Phases')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.tight_layout()\nplt.show()\n\n# Calculate duty factor\nduty_factor = np.mean(phases != 1) if np.any(phases == 1) else 0.5\nprint(f\"Duty factor: {duty_factor:.2f}\")\nprint(f\"Double support: {np.mean(phases == 0):.1%}\")\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Plot shows alternating phases over two steps"}),"\n",(0,t.jsx)(e.li,{children:"Duty factor \u2248 0.70 (each foot contacts ground 70% of time)"}),"\n",(0,t.jsx)(e.li,{children:"Double support\u5360 20% of cycle"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"What You Learned"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Gait cycles have distinct temporal phases"}),"\n",(0,t.jsx)(e.li,{children:"Double support provides stability during transitions"}),"\n",(0,t.jsx)(e.li,{children:"Duty factor indicates walk vs. run (walk > 0.5, run < 0.5)"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-612-zmp-calculator-for-point-masses",children:"Exercise 6.1.2: ZMP Calculator for Point Masses"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"\"\"\"Calculate ZMP for a simple two-mass biped model.\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom typing import Tuple\n\ndef calculate_zmp_2d(\n    masses: np.ndarray,\n    positions: np.ndarray,\n    accelerations: np.ndarray,\n    g: float = 9.81\n) -> float:\n    \"\"\"\n    Calculate Zero Moment Point in 2D.\n\n    Args:\n        masses: Array of point masses (kg), shape (n,)\n        positions: Array of [x, z] positions (m), shape (n, 2)\n        accelerations: Array of [ax, az] accelerations (m/s\xb2), shape (n, 2)\n        g: Gravity constant (m/s\xb2)\n\n    Returns:\n        x_zmp: ZMP x-coordinate (m)\n    \"\"\"\n    x = positions[:, 0]\n    z = positions[:, 1]\n    az = accelerations[:, 1]\n\n    # Vertical forces (mass * (g + vertical acceleration))\n    f_z = masses * (g + az)\n\n    # ZMP formula: weighted average of x positions\n    x_zmp = np.sum(f_z * x) / np.sum(f_z)\n\n    return x_zmp\n\n# Test: Simple biped with two masses\nmasses = np.array([30.0, 40.0])  # Hip, torso (kg)\n\n# Scenario 1: Static standing (no acceleration)\npositions_static = np.array([\n    [0.0, 0.5],   # Hip at 50cm height\n    [0.0, 1.0]    # Torso at 1m height\n])\naccel_static = np.zeros((2, 2))\n\nzmp_static = calculate_zmp_2d(masses, positions_static, accel_static)\n\n# Scenario 2: Forward leaning (torso accelerating forward)\npositions_lean = np.array([\n    [0.0, 0.5],\n    [0.1, 1.0]    # Torso leaned forward\n])\naccel_lean = np.array([\n    [0.0, 0.0],\n    [2.0, 0.0]    # Torso accelerating forward\n])\n\nzmp_lean = calculate_zmp_2d(masses, positions_lean, accel_lean)\n\n# Visualize\nfig, axes = plt.subplots(1, 2, figsize=(12, 5))\n\nfor ax, pos, zmp, title in zip(\n    axes,\n    [positions_static, positions_lean],\n    [zmp_static, zmp_lean],\n    ['Static Standing', 'Forward Leaning']\n):\n    # Plot masses\n    ax.scatter(pos[:, 0], pos[:, 1], s=masses*10, c=['blue', 'red'],\n               alpha=0.6, edgecolors='black', linewidths=2)\n\n    # Plot ZMP\n    ax.axvline(zmp, color='green', linestyle='--', linewidth=2, label=f'ZMP: {zmp:.3f}m')\n\n    # Support polygon (foot at origin, width \xb10.1m)\n    ax.axvspan(-0.1, 0.1, alpha=0.2, color='gray', label='Support Polygon')\n\n    ax.set_xlim(-0.3, 0.3)\n    ax.set_ylim(0, 1.2)\n    ax.set_xlabel('X Position (m)')\n    ax.set_ylabel('Z Height (m)')\n    ax.set_title(title)\n    ax.legend()\n    ax.grid(True, alpha=0.3)\n    ax.set_aspect('equal')\n\nplt.tight_layout()\nplt.show()\n\n# Check stability\nprint(f\"Static ZMP: {zmp_static:.3f} m - Stable: {abs(zmp_static) < 0.1}\")\nprint(f\"Leaning ZMP: {zmp_lean:.3f} m - Stable: {abs(zmp_lean) < 0.1}\")\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Static: ZMP at 0.0 m (centered, stable)"}),"\n",(0,t.jsx)(e.li,{children:"Leaning: ZMP shifted forward (may exceed support polygon)"}),"\n",(0,t.jsx)(e.li,{children:"Visualization shows mass positions and ZMP relative to foot"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"What You Learned"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"ZMP combines position and acceleration effects"}),"\n",(0,t.jsx)(e.li,{children:"Forward-leaning torso shifts ZMP forward"}),"\n",(0,t.jsx)(e.li,{children:"Stability requires ZMP within support polygon bounds"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-613-static-walking-trajectory-generator",children:"Exercise 6.1.3: Static Walking Trajectory Generator"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"\"\"\"Generate foot trajectories for static walking.\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom typing import Tuple\n\ndef generate_swing_trajectory(\n    start_pos: np.ndarray,\n    end_pos: np.ndarray,\n    step_height: float,\n    num_points: int = 50\n) -> np.ndarray:\n    \"\"\"\n    Generate swing foot trajectory (parabolic arc).\n\n    Args:\n        start_pos: Starting [x, y, z] position (m)\n        end_pos: Ending [x, y, z] position (m)\n        step_height: Maximum height during swing (m)\n        num_points: Number of trajectory points\n\n    Returns:\n        trajectory: Array of [x, y, z] positions, shape (num_points, 3)\n    \"\"\"\n    s = np.linspace(0, 1, num_points)  # Normalized time\n\n    trajectory = np.zeros((num_points, 3))\n\n    # Linear interpolation in x, y\n    trajectory[:, 0] = start_pos[0] + s * (end_pos[0] - start_pos[0])\n    trajectory[:, 1] = start_pos[1] + s * (end_pos[1] - start_pos[1])\n\n    # Parabolic arc in z (peak at midpoint)\n    trajectory[:, 2] = start_pos[2] + 4 * step_height * s * (1 - s)\n\n    return trajectory\n\ndef static_walking_sequence(\n    step_length: float = 0.2,\n    step_width: float = 0.1,\n    step_height: float = 0.05,\n    num_steps: int = 4\n) -> Tuple[np.ndarray, np.ndarray]:\n    \"\"\"\n    Generate alternating foot trajectories for static walking.\n\n    Args:\n        step_length: Forward distance per step (m)\n        step_width: Lateral foot separation (m)\n        step_height: Swing foot clearance (m)\n        num_steps: Total number of steps\n\n    Returns:\n        left_traj: Left foot trajectory points\n        right_traj: Right foot trajectory points\n    \"\"\"\n    left_positions = []\n    right_positions = []\n\n    # Initial stance\n    left_pos = np.array([0.0, step_width/2, 0.0])\n    right_pos = np.array([0.0, -step_width/2, 0.0])\n\n    left_positions.append(left_pos.copy())\n    right_positions.append(right_pos.copy())\n\n    for i in range(num_steps):\n        if i % 2 == 0:\n            # Left foot swings\n            new_left = left_pos + np.array([step_length, 0, 0])\n            swing = generate_swing_trajectory(left_pos, new_left, step_height)\n            left_positions.append(swing)\n            left_pos = new_left\n        else:\n            # Right foot swings\n            new_right = right_pos + np.array([step_length, 0, 0])\n            swing = generate_swing_trajectory(right_pos, new_right, step_height)\n            right_positions.append(swing)\n            right_pos = new_right\n\n    return left_positions, right_positions\n\n# Generate walking sequence\nleft_traj, right_traj = static_walking_sequence(\n    step_length=0.2,\n    step_width=0.15,\n    step_height=0.05,\n    num_steps=6\n)\n\n# Visualize\nfig = plt.figure(figsize=(14, 5))\n\n# Top view (X-Y plane)\nax1 = fig.add_subplot(121)\nfor traj in left_traj:\n    if traj.ndim == 1:\n        ax1.plot(traj[0], traj[1], 'bo', markersize=8)\n    else:\n        ax1.plot(traj[:, 0], traj[:, 1], 'b-', alpha=0.5)\n        ax1.plot(traj[-1, 0], traj[-1, 1], 'bo', markersize=8)\n\nfor traj in right_traj:\n    if traj.ndim == 1:\n        ax1.plot(traj[0], traj[1], 'ro', markersize=8)\n    else:\n        ax1.plot(traj[:, 0], traj[:, 1], 'r-', alpha=0.5)\n        ax1.plot(traj[-1, 0], traj[-1, 1], 'ro', markersize=8)\n\nax1.set_xlabel('X (m)')\nax1.set_ylabel('Y (m)')\nax1.set_title('Top View: Foot Placement')\nax1.grid(True, alpha=0.3)\nax1.legend(['Left Foot', 'Right Foot'])\nax1.axis('equal')\n\n# Side view (X-Z plane)\nax2 = fig.add_subplot(122)\nfor traj in left_traj:\n    if traj.ndim > 1:\n        ax2.plot(traj[:, 0], traj[:, 2], 'b-', linewidth=2, alpha=0.7)\n\nfor traj in right_traj:\n    if traj.ndim > 1:\n        ax2.plot(traj[:, 0], traj[:, 2], 'r-', linewidth=2, alpha=0.7)\n\nax2.set_xlabel('X (m)')\nax2.set_ylabel('Z Height (m)')\nax2.set_title('Side View: Swing Trajectory')\nax2.grid(True, alpha=0.3)\nax2.set_ylim(-0.01, 0.08)\n\nplt.tight_layout()\nplt.show()\n\nprint(f\"Generated {len(left_traj) + len(right_traj) - 2} swing trajectories\")\nprint(f\"Total forward distance: {max([t[0] if t.ndim == 1 else t[-1, 0] for t in left_traj + right_traj]):.2f} m\")\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Top view shows alternating left/right foot placements"}),"\n",(0,t.jsx)(e.li,{children:"Side view shows parabolic swing arcs"}),"\n",(0,t.jsx)(e.li,{children:"Step width provides lateral stability margin"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"What You Learned"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Static walking alternates single/double support phases"}),"\n",(0,t.jsx)(e.li,{children:"Swing trajectories use smooth parabolic arcs for clearance"}),"\n",(0,t.jsx)(e.li,{children:"Foot placement pattern creates stable support polygon sequence"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"exercise-614-zmp-trajectory-validation",children:"Exercise 6.1.4: ZMP Trajectory Validation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"\"\"\"Validate ZMP stays within support polygon during walking.\"\"\"\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom typing import Tuple\n\ndef simulate_com_trajectory(\n    step_length: float,\n    step_duration: float,\n    num_steps: int = 3,\n    dt: float = 0.01\n) -> Tuple[np.ndarray, np.ndarray]:\n    \"\"\"\n    Simulate CoM trajectory for walking (simple sinusoidal).\n\n    Args:\n        step_length: Distance per step (m)\n        step_duration: Time per step (s)\n        num_steps: Number of steps\n        dt: Time step (s)\n\n    Returns:\n        times: Time array (s)\n        com_positions: [x, y] CoM positions (m), shape (n, 2)\n    \"\"\"\n    times = np.arange(0, num_steps * step_duration, dt)\n    com_positions = np.zeros((len(times), 2))\n\n    for i, t in enumerate(times):\n        # Forward motion (linear)\n        com_positions[i, 0] = (step_length / step_duration) * t\n\n        # Lateral sway (sinusoidal)\n        com_positions[i, 1] = 0.03 * np.sin(2 * np.pi * t / step_duration)\n\n    return times, com_positions\n\ndef get_support_polygon(\n    foot_positions: np.ndarray,\n    foot_width: float = 0.08,\n    foot_length: float = 0.12\n) -> np.ndarray:\n    \"\"\"\n    Calculate support polygon from active foot positions.\n\n    Args:\n        foot_positions: Array of foot centers [x, y], shape (n, 2)\n        foot_width: Foot width (m)\n        foot_length: Foot length (m)\n\n    Returns:\n        polygon: Convex hull vertices [x, y], shape (m, 2)\n    \"\"\"\n    corners = []\n    for pos in foot_positions:\n        # Add four corners of each foot\n        corners.extend([\n            pos + np.array([foot_length/2, foot_width/2]),\n            pos + np.array([foot_length/2, -foot_width/2]),\n            pos + np.array([-foot_length/2, foot_width/2]),\n            pos + np.array([-foot_length/2, -foot_width/2])\n        ])\n\n    corners = np.array(corners)\n\n    # Simple convex hull (for this example, return bounding box)\n    min_x, max_x = corners[:, 0].min(), corners[:, 0].max()\n    min_y, max_y = corners[:, 1].min(), corners[:, 1].max()\n\n    return np.array([\n        [min_x, min_y],\n        [max_x, min_y],\n        [max_x, max_y],\n        [min_x, max_y],\n        [min_x, min_y]\n    ])\n\n# Simulate walking\nstep_length = 0.2\nstep_width = 0.15\nstep_duration = 0.6\n\ntimes, com_traj = simulate_com_trajectory(step_length, step_duration, num_steps=3)\n\n# Define foot positions during single support phases\nfoot_positions_sequence = [\n    # Double support: both feet\n    np.array([[0.0, step_width/2], [0.0, -step_width/2]]),\n    # Single support: right foot\n    np.array([[0.0, -step_width/2]]),\n    # Double support\n    np.array([[step_length, step_width/2], [0.0, -step_width/2]]),\n    # Single support: left foot\n    np.array([[step_length, step_width/2]]),\n]\n\n# Visualize CoM and support polygons\nplt.figure(figsize=(12, 6))\n\n# Plot CoM trajectory\nplt.plot(com_traj[:, 0], com_traj[:, 1], 'b-', linewidth=2, label='CoM Trajectory', alpha=0.7)\n\n# Plot support polygons at different phases\ncolors = ['green', 'orange', 'green', 'orange']\nfor i, (feet, color) in enumerate(zip(foot_positions_sequence, colors)):\n    polygon = get_support_polygon(feet)\n    plt.fill(polygon[:, 0], polygon[:, 1], alpha=0.2, color=color,\n             edgecolor=color, linewidth=2, label=f'Support {i}' if i < 2 else None)\n\n    # Plot foot positions\n    plt.scatter(feet[:, 0], feet[:, 1], s=200, c=color, marker='s',\n                edgecolors='black', linewidths=2, zorder=5)\n\nplt.xlabel('X Position (m)')\nplt.ylabel('Y Position (m)')\nplt.title('CoM Trajectory vs. Support Polygons')\nplt.legend()\nplt.grid(True, alpha=0.3)\nplt.axis('equal')\nplt.tight_layout()\nplt.show()\n\n# Check if CoM stays within bounds\nlateral_margin = 0.05\nstable = np.all(np.abs(com_traj[:, 1]) < step_width/2 - lateral_margin)\nprint(f\"CoM lateral bounds: [{com_traj[:, 1].min():.3f}, {com_traj[:, 1].max():.3f}] m\")\nprint(f\"Support width: \xb1{step_width/2:.3f} m\")\nprint(f\"Stability: {'STABLE' if stable else 'UNSTABLE'}\")\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Output"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"CoM trajectory weaves through support polygons"}),"\n",(0,t.jsx)(e.li,{children:"Lateral sway remains within foot separation bounds"}),"\n",(0,t.jsx)(e.li,{children:"Support polygons shrink during single support phases"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"What You Learned"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"CoM must stay within support polygon for static stability"}),"\n",(0,t.jsx)(e.li,{children:"Support polygon changes during gait cycle (larger in double support)"}),"\n",(0,t.jsx)(e.li,{children:"Lateral sway should be minimized for stability margin"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"trywithai-exercises",children:"TryWithAI Exercises"}),"\n",(0,t.jsx)(e.h3,{id:"trywithai-611-dynamic-gait-optimization",children:"TryWithAI 6.1.1: Dynamic Gait Optimization"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prompt"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Create a bipedal walking gait optimizer that finds the optimal step length and cadence for a humanoid robot to minimize energy consumption while maintaining ZMP stability. The optimizer should:\n\n1. Model energy cost as proportional to joint accelerations squared\n2. Ensure ZMP stays within support polygon throughout the gait cycle\n3. Respect kinematic limits (max step length 0.4m, max cadence 2 Hz)\n4. Output optimal parameters and visualize the ZMP trajectory\n\nUse a simple inverted pendulum model for the CoM dynamics. Test with different robot masses (50-80 kg) and target walking speeds (0.5-1.5 m/s).\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Skills"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Optimization with constraints (scipy.optimize)"}),"\n",(0,t.jsx)(e.li,{children:"Dynamics simulation of inverted pendulum"}),"\n",(0,t.jsx)(e.li,{children:"ZMP calculation over continuous trajectory"}),"\n",(0,t.jsx)(e.li,{children:"Trade-off analysis between speed and stability"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h3,{id:"trywithai-612-stair-climbing-planner",children:"TryWithAI 6.1.2: Stair Climbing Planner"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Prompt"}),":"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"Implement a foot placement planner for stair climbing. Given stair dimensions (height: 0.15-0.20m, depth: 0.25-0.30m), generate:\n\n1. Foot placement sequence (which foot on which stair)\n2. CoM trajectory that maintains static stability\n3. Hip height trajectory to clear stairs\n4. Validation that ZMP stays within each foot's support region\n\nVisualize the robot's stick figure at key phases and show the CoM projection relative to the support foot. Test with standard residential stairs (7\" rise, 11\" tread).\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Expected Skills"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Discrete foothold planning"}),"\n",(0,t.jsx)(e.li,{children:"3D CoM trajectory generation"}),"\n",(0,t.jsx)(e.li,{children:"Static stability verification"}),"\n",(0,t.jsx)(e.li,{children:"Multi-phase motion coordination"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsx)(e.p,{children:"This lesson introduced bipedal walking fundamentals:"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Key Concepts"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Gait cycle phases (double/single support, swing/stance)"}),"\n",(0,t.jsx)(e.li,{children:"Static vs. dynamic stability criteria"}),"\n",(0,t.jsx)(e.li,{children:"Zero Moment Point (ZMP) as stability metric"}),"\n",(0,t.jsx)(e.li,{children:"Support polygon constraints"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Practical Skills"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Analyzing gait phases from timing data"}),"\n",(0,t.jsx)(e.li,{children:"Calculating ZMP from mass distributions"}),"\n",(0,t.jsx)(e.li,{children:"Generating swing foot trajectories"}),"\n",(0,t.jsx)(e.li,{children:"Validating CoM motion against support polygons"}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Next Steps"}),": ",(0,t.jsx)(e.a,{href:"/physical-ai-book/docs/chapter-06/lesson-02",children:"Lesson 6.2"})," covers balance control using inverted pendulum models and feedback stabilization."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Further Reading"}),":"]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:['Vukobratovi\u0107, M., & Borovac, B. (2004). "Zero-Moment Point\u2014Thirty Five Years of its Life." ',(0,t.jsx)(e.em,{children:"International Journal of Humanoid Robotics"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:['Kajita, S., et al. (2003). "Biped Walking Pattern Generation by using Preview Control of Zero-Moment Point." ',(0,t.jsx)(e.em,{children:"IEEE ICRA"}),"."]}),"\n"]})]})}function h(s={}){const{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(m,{...s})}):m(s)}},8453:(s,e,n)=>{n.d(e,{R:()=>l,x:()=>r});var a=n(6540);const t={},i=a.createContext(t);function l(s){const e=a.useContext(i);return a.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:l(s.components),a.createElement(i.Provider,{value:e},s.children)}}}]);