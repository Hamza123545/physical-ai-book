if(void 0===__webpack_require__)var __webpack_require__={};(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8401],{4746:(e,s,a)=>{a.d(s,{AT:()=>r,yH:()=>i});const n="undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://localhost:8000":"https://hamza057-aibook.hf.space",t=()=>{const e="undefined"==typeof window?null:localStorage.getItem("authToken"),s={"Content-Type":"application/json"};return e&&(s.Authorization=`Bearer ${e}`),s},r=async(e,s={})=>{const a=`${n}${e}`,r={...t(),...s.headers||{}};return await fetch(a,{...s,headers:r})},i=async e=>{if(!e.ok){const s=await e.json().catch(()=>({error:{message:`API error: ${e.status} ${e.statusText}`}}));throw new Error(s.error?.message||"API request failed")}return e.json()}},8998:(e,s,a)=>{a.d(s,{A:()=>v});var n=a(6540),t=a(4129),r=a(6347),i=a(4586),l=a(9345),o=a(4746);const c="personalizeContainer_dCFT",d="personalizeButton_uscv",h="icon_gklE",u="spinner_OMF9",m="error_X2St";var p=a(4848);const x=({chapterId:e,onPersonalized:s})=>{const{isAuthenticated:a}=(0,l.A)(),[t,r]=(0,n.useState)(!1),[i,x]=(0,n.useState)(null);return(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("button",{onClick:async()=>{if(a){r(!0),x(null);try{const a=await(async e=>{const s=await(0,o.AT)("/api/content/personalize",{method:"POST",body:JSON.stringify({chapter_id:e})});return(0,o.yH)(s)})(e);if(!a.success)throw new Error("Personalization request was unsuccessful");s(a.personalized_content,{cacheHit:a.cache_hit,...a.metadata})}catch(n){x(n instanceof Error?n.message:"Failed to personalize content"),console.error("Personalization error:",n)}finally{r(!1)}}else x("Please sign in to personalize content")},disabled:t,className:d,children:t?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:u}),"Personalizing..."]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{className:h,children:"\u2728"}),"Personalize for Me"]})}),i&&(0,p.jsx)("div",{className:m,children:i})]})};var j=a(7941),_=a(3092);const N={contentWrapper:"contentWrapper_VgWL",personalizeSection:"personalizeSection_rGlx",personalizedControls:"personalizedControls_CDx2",statusBadge:"statusBadge_DgSG",cached:"cached_bt1T",fresh:"fresh_AhK6",toggleButtons:"toggleButtons_dSA1",toggleButton:"toggleButton_ZBCS",active:"active_ADKH",resetButton:"resetButton_mDbw",metadata:"metadata_mp1T",metadataItem:"metadataItem_Objn",label:"label_I_nF",value:"value_DxSC",personalizedContent:"personalizedContent_O9Ne"};function v(e){const s=(0,r.zy)(),{siteConfig:a}=(0,i.A)(),{isAuthenticated:o}=(0,l.A)(),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)(null),[m,v]=(0,n.useState)(!0),g=(0,n.useMemo)(()=>{if("undefined"==typeof window)return"";const e=s.pathname,n=a.baseUrl||"";let t=e;return n&&e.startsWith(n)&&(t=e.substring(n.length)),t=t.replace(/^\/docs\//,"").replace(/^docs\//,""),t=t.replace(/\/$/,""),t||""},[s.pathname,a.baseUrl]);return(0,p.jsxs)("div",{className:N.contentWrapper,children:[o&&g&&(0,p.jsx)("div",{className:N.personalizeSection,children:c?(0,p.jsxs)("div",{className:N.personalizedControls,children:[(0,p.jsx)("div",{className:N.statusBadge,children:h?.cacheHit?(0,p.jsx)("span",{className:N.cached,children:"\u26a1 From Cache"}):(0,p.jsx)("span",{className:N.fresh,children:"\u2728 Freshly Personalized"})}),(0,p.jsxs)("div",{className:N.toggleButtons,children:[(0,p.jsx)("button",{onClick:()=>v(!0),className:`${N.toggleButton} ${m?N.active:""}`,children:"Personalized"}),(0,p.jsx)("button",{onClick:()=>v(!1),className:`${N.toggleButton} ${m?"":N.active}`,children:"Original"}),(0,p.jsx)("button",{onClick:()=>{d(null),u(null),v(!0)},className:N.resetButton,children:"Reset"})]}),h&&m&&(0,p.jsxs)("div",{className:N.metadata,children:[(0,p.jsxs)("div",{className:N.metadataItem,children:[(0,p.jsx)("span",{className:N.label,children:"Generation Time:"}),(0,p.jsx)("span",{className:N.value,children:h.generation_time_ms?`${(h.generation_time_ms/1e3).toFixed(2)}s`:"N/A"})]}),h.tokens_used&&(0,p.jsxs)("div",{className:N.metadataItem,children:[(0,p.jsx)("span",{className:N.label,children:"Tokens Used:"}),(0,p.jsx)("span",{className:N.value,children:h.tokens_used.toLocaleString()})]}),h.model_used&&(0,p.jsxs)("div",{className:N.metadataItem,children:[(0,p.jsx)("span",{className:N.label,children:"Model:"}),(0,p.jsx)("span",{className:N.value,children:h.model_used})]})]})]}):(0,p.jsx)(x,{chapterId:g,onPersonalized:(e,s)=>{d(e),u(s),v(!0)}})}),c&&m?(0,p.jsx)("div",{className:N.personalizedContent,children:(0,p.jsx)(j.oz,{remarkPlugins:[_.A],children:c})}):(0,p.jsx)(t.A,{...e})]})}},9818:(e,s,a)=>{a.d(s,{A:()=>oa});var n=a(8466),t=a(6540),r=a(7941);const i="quizContainer_ZpNT",l="quizCard_huSq",o="quizHeader_Il9_",c="quizTitle_Mo_U",d="questionCounter_gDsU",h="progressBar_dzJK",u="progressFill_vu_p",m="questionSection_K6VR",p="questionText_JbCH",x="optionsGrid_guMG",j="optionButton_FzYD",_="selected_V6hN",N="optionLetter_ylUO",v="correctOption_N6Rd",g="incorrectOption_d4Lo",b="correctCheckmark_U3t_",f="incorrectMark_V_8V",y="optionText_Abtt",w="feedbackSection_JmwB",C="feedbackCorrect_Wnw2",k="feedbackIncorrect_T5zH",S="feedbackHeader_T0EL",T="feedbackIcon_LAUm",z="feedbackYourAnswer_Ynt5",A="feedbackExplanationText_Zzin",E="feedbackExplanation_kvUC",I="feedbackSource_Epyr",q="navigationSection_E05C",B="answeredIndicator_IJVi",L="navigationButtons_F04o",$="navButton_Ygm2",F="backButton_wYSb",R="nextButton_wwH2",O="submitButton_hZ0H",P="questionDots_nfl2",M="dot__JdH",Y="activeDot_OZyk",W="answeredDot_lrF7",D="resultsCard_FQY8",H="resultsHeader_LKU7",Q="resultsTitle_N5Gv",V="scoreCircle_G582",U="scorePercentage_k0n9",G="scoreLabel_Ryu2",Z="resultsStats_tctE",K="statItem_R1ZO",J="statValue_rSKN",X="statLabel_L401",ee="resultMessage_UFw7",se="resultIcon_Llab",ae="detailedResults_qQhU",ne="detailedResultsTitle_xmad",te="reviewItem_ytkS",re="reviewHeader_eik7",ie="reviewQuestionNumber_rphq",le="reviewBadge_tSGp",oe="correctBadge_yPpB",ce="incorrectBadge_qGMC",de="reviewQuestion_eQxe",he="reviewAnswers_Smn6",ue="reviewAnswer_a9w2",me="correctText_eCkV",pe="incorrectText_hsbg",xe="explanation_xJOh",je="resetButton_nGzA",_e="explanationContent_nm0H",Ne="srOnly_q2Qz";var ve=a(4848);const ge=e=>{const s=[...e];for(let a=s.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[s[a],s[e]]=[s[e],s[a]]}return s},be=({title:e="Quiz",questions:s,questionsPerBatch:a=15})=>{const n=(0,t.useRef)(null),[be,fe]=(0,t.useState)(()=>ge(s).slice(0,a)),[ye,we]=(0,t.useState)(0),[Ce,ke]=(0,t.useState)(new Array(be.length).fill(null)),[Se,Te]=(0,t.useState)(!1),[ze,Ae]=(0,t.useState)(!1),[Ee,Ie]=(0,t.useState)(new Set),[qe,Be]=(0,t.useState)(!1),Le=()=>{if(!n.current)return;const e=window.scrollY,s=n.current.getBoundingClientRect().top+window.scrollY-20-e,a=performance.now(),t=n=>{const r=n-a,i=Math.min(r/1200,1),l=(o=i,1-Math.pow(1-o,3));var o;const c=e+s*l;window.scrollTo(0,c),i<1&&requestAnimationFrame(t)};requestAnimationFrame(t)};(0,t.useLayoutEffect)(()=>{qe&&(Le(),Be(!1))},[qe]);const $e=()=>{const e=ge(s).slice(0,a);fe(e),we(0),ke(new Array(e.length).fill(null)),Ae(!1),Te(!1),Ie(new Set),Be(!0)},Fe=(()=>{let e=0;return Ce.forEach((s,a)=>{s===be[a].correctOption&&e++}),{correct:e,total:be.length,percentage:Math.round(e/be.length*100)}})(),Re=Ce.every(e=>null!==e);if(ze)return(0,ve.jsx)("div",{className:i,ref:n,children:(0,ve.jsxs)("div",{className:D,children:[(0,ve.jsxs)("div",{className:H,children:[(0,ve.jsx)("h2",{className:Q,children:"Quiz Complete"}),(0,ve.jsxs)("div",{className:V,children:[(0,ve.jsxs)("div",{className:U,children:[Fe.percentage,"%"]}),(0,ve.jsx)("div",{className:G,children:"Your Score"})]})]}),(0,ve.jsxs)("div",{className:Z,children:[(0,ve.jsxs)("div",{className:K,children:[(0,ve.jsx)("span",{className:J,children:Fe.correct}),(0,ve.jsx)("span",{className:X,children:"Correct"})]}),(0,ve.jsxs)("div",{className:K,children:[(0,ve.jsx)("span",{className:J,children:Fe.total-Fe.correct}),(0,ve.jsx)("span",{className:X,children:"Incorrect"})]}),(0,ve.jsxs)("div",{className:K,children:[(0,ve.jsx)("span",{className:J,children:Fe.total}),(0,ve.jsx)("span",{className:X,children:"Total"})]})]}),(0,ve.jsxs)("div",{className:ee,children:[(0,ve.jsx)("span",{className:se,children:"\ud83d\udcda"}),(0,ve.jsx)("strong",{children:"Great effort!"})," You answered ",Fe.correct," out of ",Fe.total," questions correctly."]}),(0,ve.jsxs)("div",{className:ae,children:[(0,ve.jsx)("h3",{className:ne,children:"Question Review"}),be.map((e,s)=>{const a=Ce[s],n=a===e.correctOption;return(0,ve.jsxs)("div",{className:te,children:[(0,ve.jsxs)("div",{className:re,children:[(0,ve.jsxs)("span",{className:ie,children:["Question ",s+1]}),(0,ve.jsx)("span",{className:`${le} ${n?oe:ce}`,children:n?"\u2713 Correct":"\u2717 Incorrect"})]}),(0,ve.jsx)("div",{className:de,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("p",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:e.question})}),(0,ve.jsxs)("div",{className:he,children:[(0,ve.jsxs)("div",{className:ue,children:[(0,ve.jsx)("strong",{children:"Your answer:"})," ",(0,ve.jsx)("span",{className:n?me:pe,children:null!==a?(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("span",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:e.options[a]}):"Not answered"})]}),!n&&(0,ve.jsxs)("div",{className:ue,children:[(0,ve.jsx)("strong",{children:"Correct answer:"})," ",(0,ve.jsx)("span",{className:me,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("span",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:e.options[e.correctOption]})})]}),e.explanation&&(0,ve.jsxs)("div",{className:xe,children:[(0,ve.jsx)("strong",{children:"Explanation:"}),(0,ve.jsx)("div",{className:_e,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("p",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:e.explanation})})]})]})]},s)})]}),(0,ve.jsx)("button",{onClick:$e,className:je,children:"Retake Quiz"})]})});const Oe=be[ye],Pe=Ce[ye],Me=(ye+1)/be.length*100,Ye=Pe===Oe.correctOption;return(0,ve.jsx)("div",{className:i,ref:n,children:(0,ve.jsxs)("div",{className:l,children:[(0,ve.jsxs)("div",{className:o,children:[(0,ve.jsx)("h2",{className:c,children:e}),(0,ve.jsxs)("div",{className:d,children:["Question ",ye+1," of ",be.length]})]}),(0,ve.jsx)("div",{className:h,children:(0,ve.jsx)("div",{className:u,style:{width:`${Me}%`}})}),(0,ve.jsxs)("div",{className:m,children:[(0,ve.jsx)("h3",{className:p,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("span",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:Oe.question})}),(0,ve.jsx)("div",{className:x,children:Oe.options.map((e,s)=>(0,ve.jsxs)("button",{className:`${j} ${Pe===s?_:""} ${Se&&s===Oe.correctOption?v:""} ${Se&&Pe===s&&!Ye?g:""}`,onClick:()=>(e=>{if(Ee.has(ye))return;const s=[...Ce];s[ye]=e,ke(s);const a=new Set(Ee);a.add(ye),Ie(a),Te(!0)})(s),disabled:Ee.has(ye),children:[(0,ve.jsx)("span",{className:N,children:String.fromCharCode(65+s)}),(0,ve.jsx)("span",{className:y,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("span",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:e})}),Se&&s===Oe.correctOption&&(0,ve.jsx)("span",{className:b,children:"\u2713"}),Se&&Pe===s&&!Ye&&(0,ve.jsx)("span",{className:f,children:"\u2717"})]},s))}),Se&&(0,ve.jsxs)("div",{className:`${w} ${Ye?C:k}`,role:"region","aria-live":"polite","aria-label":"Question feedback",children:[(0,ve.jsx)("div",{className:S,children:Ye?(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("span",{className:T,children:"\u2713"}),(0,ve.jsx)("strong",{children:"Correct!"})]}):(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("span",{className:T,children:"\u2717"}),(0,ve.jsx)("strong",{children:"Incorrect"})]})}),!Ye&&null!==Pe&&(0,ve.jsxs)("div",{className:z,children:[(0,ve.jsx)("strong",{children:"Why your answer was wrong:"}),(0,ve.jsxs)("p",{children:["You selected: ",(0,ve.jsx)("span",{className:pe,children:Oe.options[Pe]})]}),(0,ve.jsxs)("p",{className:A,children:["This answer is incorrect. The correct answer is:"," ",(0,ve.jsx)("span",{className:me,children:Oe.options[Oe.correctOption]})]})]}),Oe.explanation&&(0,ve.jsxs)("div",{className:E,children:[(0,ve.jsx)("strong",{children:"Explanation:"}),(0,ve.jsx)("div",{className:_e,children:(0,ve.jsx)(r.oz,{components:{p:({node:e,...s})=>(0,ve.jsx)("p",{...s}),a:({node:e,...s})=>(0,ve.jsx)("a",{...s,target:"_blank",rel:"noopener noreferrer"})},children:Oe.explanation})})]}),Oe.source&&(0,ve.jsxs)("div",{className:I,children:[(0,ve.jsx)("strong",{children:"Source:"})," ",Oe.source]})]})]}),(0,ve.jsxs)("div",{className:q,children:[(0,ve.jsxs)("div",{className:B,children:["Answered: ",Ee.size," / ",be.length]}),(0,ve.jsxs)("div",{className:L,children:[(0,ve.jsx)("button",{onClick:()=>{ye>0&&(we(ye-1),Te(Ee.has(ye-1)),Be(!0))},disabled:0===ye,"aria-disabled":0===ye,"aria-describedby":0===ye?"back-button-help":void 0,className:`${$} ${F}`,title:0===ye?"You are on the first question":"",children:"\u2190 Back"}),0===ye&&(0,ve.jsx)("span",{id:"back-button-help",className:Ne,children:"You are on the first question. Cannot go back."}),ye===be.length-1?(0,ve.jsx)("button",{onClick:()=>{Ae(!0),Be(!0)},disabled:!Re,className:`${$} ${O}`,title:Re?"":"Please answer all questions",children:"Submit Quiz"}):(0,ve.jsxs)(ve.Fragment,{children:[(0,ve.jsx)("button",{onClick:()=>{ye<be.length-1&&(we(ye+1),Te(Ee.has(ye+1)),Be(!0))},disabled:!Se,"aria-disabled":!Se,"aria-describedby":Se?void 0:"next-button-help",className:`${$} ${R}`,title:Se?"":"Please answer the question first",children:"Next \u2192"}),!Se&&(0,ve.jsx)("span",{id:"next-button-help",className:Ne,children:"Please answer the question first to proceed to the next question."})]})]})]}),(0,ve.jsx)("div",{className:P,children:be.map((e,s)=>(0,ve.jsx)("button",{className:`${M} ${s===ye?Y:""} ${Ee.has(s)?W:""}`,onClick:()=>{Ee.has(s)&&(we(s),Te(!0),Be(!0))},title:`Question ${s+1}`},s))})]})})};var fe=a(8553),ye=a(9492),we=a(5773),Ce=a(5404),ke=a(6858),Se=a(9423);const Te="errorContainer_K6mW",ze="errorHeader_FCon",Ae="errorBadge_oiuR",Ee="errorIcon_T0T5",Ie="errorType_b0Av",qe="lineIndicator_rY2C",Be="lineLabel_eM62",Le="lineNumber_f25J",$e="errorMessage_WluW",Fe="hint_whZr",Re="hintHeader_Fnvo",Oe="hintIcon_YI3Z",Pe="hintLabel_N__N",Me="hintText_y1yw",Ye="tracebackDetails_Z535",We="tracebackSummary_YYFB",De="tracebackCount_Qsdn",He="traceback_uVDF",Qe="tracebackLine_FDve";const Ve=({errorText:e,sourceCode:s})=>{const a=function(e){const s=e.split("\n"),a=e.match(/(\w+Error|Exception): (.+)$/m),n=e.match(/line (\d+)/i),t=e.match(/File "([^"]+)"/),r=a?.[1]||"Error",i=a?.[2]||e,l=n?parseInt(n[1],10):void 0,o=t?.[1],c=s.filter(e=>e.trim().startsWith('File "')||e.match(/^\s{2,}/)),d=function(e,s){const a={SyntaxError:"Check for missing colons, unmatched parentheses, or incorrect indentation.",IndentationError:"Python uses indentation to define code blocks. Make sure your indentation is consistent (use spaces or tabs, not both).",NameError:"This variable or function hasn't been defined yet. Check for typos or make sure you define it before using it.",TypeError:"You're trying to use a value in a way that doesn't match its type. For example, you can't add a string to a number.",ValueError:"The value you provided is the right type but has an invalid value for this operation.",IndexError:"You're trying to access an index that doesn't exist in your list or string.",KeyError:"This key doesn't exist in your dictionary. Use `.get()` or check if the key exists first.",AttributeError:"This object doesn't have the attribute or method you're trying to use.",ZeroDivisionError:"You're trying to divide by zero, which is mathematically undefined.",ImportError:"The module or package you're trying to import isn't available in this environment.",ModuleNotFoundError:"The module you're trying to import doesn't exist or isn't installed."};return s.includes("unexpected EOF")?"Your code ended unexpectedly. Check for unclosed parentheses, brackets, or quotes.":s.includes("invalid syntax")?"There's a syntax error in your code. Common causes: missing colons after if/for/def, mismatched quotes, or typos.":s.includes("not defined")?"Make sure you define variables and functions before using them. Check for typos in names.":a[e]}(r,i);return{type:r,message:i,line:l,file:o,traceback:c,hint:d}}(e);return(0,ve.jsxs)("div",{className:Te,children:[(0,ve.jsxs)("div",{className:ze,children:[(0,ve.jsxs)("div",{className:Ae,children:[(0,ve.jsx)("span",{className:Ee,children:"\u26a0"}),(0,ve.jsx)("span",{className:Ie,children:a.type})]}),a.line&&(0,ve.jsxs)("div",{className:qe,children:[(0,ve.jsx)("span",{className:Be,children:"Line"}),(0,ve.jsx)("span",{className:Le,children:a.line})]})]}),(0,ve.jsx)("div",{className:$e,children:a.message}),a.hint&&(0,ve.jsxs)("div",{className:Fe,children:[(0,ve.jsxs)("div",{className:Re,children:[(0,ve.jsx)("span",{className:Oe,children:"\ud83d\udca1"}),(0,ve.jsx)("span",{className:Pe,children:"Hint"})]}),(0,ve.jsx)("div",{className:Me,children:a.hint})]}),a.traceback&&a.traceback.length>0&&(0,ve.jsxs)("details",{className:Ye,children:[(0,ve.jsxs)("summary",{className:We,children:[(0,ve.jsx)("span",{children:"View Full Traceback"}),(0,ve.jsxs)("span",{className:De,children:["(",a.traceback.length," lines)"]})]}),(0,ve.jsx)("div",{className:He,children:a.traceback.map((e,s)=>(0,ve.jsx)("div",{className:Qe,children:e},s))})]})]})},Ue="container_Mx2f",Ge="header_mb1r",Ze="windowControls_VN4W",Ke="windowControl_Z1Iy",Je="windowControlRed_VfnR",Xe="windowControlYellow_RCKZ",es="windowControlGreen_bpBR",ss="buttonGroup_YnTw",as="iconButton_Zfna",ns="copied_SChC",ts="runButton_YneS",rs="editorWrapper_wFnf",is="loadingOverlay_Sdq4",ls="spinner_VOi3",os="packageLoadingOverlay_rDsW",cs="packageLoadingContent_NQXT",ds="packageSpinner_g1oE",hs="packageLoadingText_Xtcf",us="packageLoadingProgress_rbu3",ms="outputSection_eUYo",ps="hasError_L4rf",xs="outputHeader_qTfh",js="outputLabel_pOvA",_s="outputActions_YLUJ",Ns="outputActionBtn_ABJD",vs="outputContent_M6i9",gs="outputText_JK9q",bs=({initialCode:e='print("Hello, World!")',showLineNumbers:s=!0})=>{const[a,n]=(0,t.useState)(e),[r,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[h,u]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[x,j]=(0,t.useState)(null),[_,N]=(0,t.useState)(null),{pyodide:v,isLoading:g}=(0,Se.w)(),b=(0,t.useRef)(null),f=(0,t.useRef)(g),y=(0,t.useRef)(c);(0,t.useEffect)(()=>{f.current=g},[g]),(0,t.useEffect)(()=>{y.current=c},[c]);const w=(0,t.useMemo)(()=>{const e=a.split("\n").length;return Math.min(Math.max(19*e+32,51),400)},[a]);(0,t.useEffect)(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[r,l]);const C=(0,t.useCallback)(async()=>{d(!0),i(""),o(""),j(null),N(null);try{await v.run(a,e=>i(s=>s+e),e=>o(s=>s+e),(e,s,a)=>{j(e),N({loaded:s,total:a})})}catch(e){o(s=>s+`Error: ${e instanceof Error?e.message:String(e)}`)}finally{d(!1),j(null),N(null)}},[a,v]),k=(0,t.useRef)(C);(0,t.useEffect)(()=>{k.current=C},[C]);return(0,ve.jsxs)("div",{className:Ue,children:[(0,ve.jsxs)("div",{className:Ge,children:[(0,ve.jsxs)("div",{className:Ze,children:[(0,ve.jsx)("div",{className:`${Ke} ${Je}`,title:"Close"}),(0,ve.jsx)("div",{className:`${Ke} ${Xe}`,title:"Minimize"}),(0,ve.jsx)("div",{className:`${Ke} ${es}`,title:"Maximize"})]}),(0,ve.jsxs)("div",{className:ss,children:[(0,ve.jsx)("button",{className:as,onClick:()=>{n(e),i(""),o("")},disabled:g||c,title:"Reset code to initial state","aria-label":"Reset code",children:(0,ve.jsx)(ye.A,{size:16})}),(0,ve.jsx)("button",{className:`${as} ${h?ns:""}`,onClick:async()=>{try{await navigator.clipboard.writeText(a),u(!0),setTimeout(()=>u(!1),2e3)}catch(e){console.error("Failed to copy code:",e)}},disabled:g||c,title:h?"Copied!":"Copy code to clipboard","aria-label":"Copy code",children:h?(0,ve.jsx)(we.A,{size:16}):(0,ve.jsx)(Ce.A,{size:16})}),(0,ve.jsxs)("button",{className:ts,onClick:C,disabled:g||c,title:"Run code (or press Shift+Enter)","aria-label":"Run code",children:[(0,ve.jsx)(ke.A,{size:16}),(0,ve.jsx)("span",{children:"Run"})]})]})]}),(0,ve.jsxs)("div",{className:rs,children:[g&&(0,ve.jsxs)("div",{className:is,children:[(0,ve.jsx)("div",{className:ls}),(0,ve.jsx)("p",{children:"Loading Python environment..."})]}),x&&_&&(0,ve.jsx)("div",{className:os,children:(0,ve.jsxs)("div",{className:cs,children:[(0,ve.jsx)("div",{className:ds}),(0,ve.jsxs)("p",{className:hs,children:["Loading ",(0,ve.jsx)("strong",{children:x}),"..."]}),(0,ve.jsxs)("p",{className:us,children:["(",_.loaded," of ",_.total," packages)"]})]})}),(0,ve.jsx)(fe.Ay,{height:`${w}px`,defaultLanguage:"python",value:a,onChange:e=>n(e||""),theme:"vs-dark",options:{minimap:{enabled:!1},lineNumbers:s?"on":"off",fontSize:13,scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:16,bottom:16},fontFamily:"'Monaco', 'Menlo', 'Consolas', monospace",quickSuggestions:!1,parameterHints:{enabled:!1},suggestOnTriggerCharacters:!1,acceptSuggestionOnCommitCharacter:!1},onMount:(e,s)=>{e.addAction({id:"run-python-code",label:"Run Python Code",keybindings:[s.KeyMod.Shift|s.KeyCode.Enter],run:()=>{f.current||y.current||k.current?.()}})},loading:(0,ve.jsx)("div",{})})]}),(r||l)&&(0,ve.jsxs)("div",{className:`${ms} ${l?ps:""}`,children:[(0,ve.jsxs)("div",{className:xs,children:[(0,ve.jsx)("span",{className:js,children:l?"Error":"Output"}),(0,ve.jsxs)("div",{className:_s,children:[(0,ve.jsx)("button",{className:`${Ns} ${m?ns:""}`,onClick:async()=>{const e=l||r;try{await navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),2e3)}catch(s){console.error("Failed to copy output:",s)}},title:m?"Copied!":"Copy output","aria-label":"Copy output",children:m?(0,ve.jsx)(we.A,{size:14}):(0,ve.jsx)(Ce.A,{size:14})}),(0,ve.jsx)("button",{className:Ns,onClick:()=>{i(""),o("")},title:"Clear output","aria-label":"Clear output",children:(0,ve.jsx)(ye.A,{size:14})})]})]}),(0,ve.jsx)("div",{className:vs,ref:b,children:l?(0,ve.jsx)(Ve,{errorText:l,sourceCode:a}):(0,ve.jsx)("div",{className:gs,children:r})})]})]})},fs="tryWithAI_D7Vn",ys="header_Y_r0",ws="roleBadge_TtVT",Cs="roleIcon_KGLx",ks="roleName_Ijod",Ss="title_rTR2",Ts="roleDescription_ninm",zs="section_sCwf",As="promptBox_SqR4",Es="hint_aI9a",Is="criteriaList_DUFj",qs="reflectionList_tMC8";const Bs="learningObjectives_pniE",Ls="header_NaQO",$s="title_y8ih",Fs="cefrBadge_KipD",Rs="cefrLabel_SN9P",Os="cefrValue_puNV",Ps="objectivesList_fbzE",Ms="objective_NB6i",Ys="objectiveHeader_dRE7",Ws="bloomsBadge_izjn",Ds="bloomsIcon_R3We",Hs="bloomsLevel_snuW",Qs="objectiveText_FBD8",Vs="assessmentMethod_wwW6",Us="assessmentLabel_Z9AX",Gs="footer_pPe4",Zs="cefrDescription_euI6";var Ks=a(8774);const Js="prerequisites_bNoZ",Xs="header_zFPq",ea="title_yWzt",sa="description_qyvS",aa="prerequisitesList_x6GD",na="prerequisiteItem_e_TP",ta="checkbox_FQmY",ra="prerequisiteLink_J7oM",ia="footer_LvbW",la="hint_IOVx";const oa={...n.A,Quiz:be,InteractivePython:bs,TryWithAI:function({id:e,title:s,role:a,scenario:n,yourTask:t,aiPromptTemplate:r,successCriteria:i,reflectionQuestions:l}){return(0,ve.jsxs)("div",{className:fs,id:e,children:[(0,ve.jsxs)("div",{className:ys,children:[(0,ve.jsxs)("div",{className:ws,"data-role":a.toLowerCase(),children:[(0,ve.jsx)("span",{className:Cs,children:{Teacher:"\ud83d\udc68\u200d\ud83c\udfeb",Copilot:"\ud83e\udd1d",Evaluator:"\ud83d\udcca"}[a]}),(0,ve.jsxs)("span",{className:ks,children:["AI ",a]})]}),(0,ve.jsx)("h3",{className:Ss,children:s})]}),(0,ve.jsx)("div",{className:Ts,children:{Teacher:"AI explains concepts and provides guided learning",Copilot:"AI collaborates with you to solve problems together",Evaluator:"AI reviews and provides feedback on your work"}[a]}),(0,ve.jsxs)("div",{className:zs,children:[(0,ve.jsx)("h4",{children:"\ud83c\udfaf Scenario"}),(0,ve.jsx)("p",{children:n})]}),(0,ve.jsxs)("div",{className:zs,children:[(0,ve.jsx)("h4",{children:"\u270b Your Task (Try It First!)"}),(0,ve.jsx)("p",{children:t})]}),(0,ve.jsxs)("div",{className:zs,children:[(0,ve.jsx)("h4",{children:"\ud83d\udcac AI Prompt Template"}),(0,ve.jsx)("div",{className:As,children:(0,ve.jsx)("code",{children:r})}),(0,ve.jsx)("p",{className:Es,children:"Copy this template and use it with ChatGPT, Claude, or another AI assistant. Replace [placeholders] with your actual code or context."})]}),(0,ve.jsxs)("div",{className:zs,children:[(0,ve.jsx)("h4",{children:"\u2705 Success Criteria"}),(0,ve.jsx)("ul",{className:Is,children:i.map((e,s)=>(0,ve.jsx)("li",{children:e},s))})]}),(0,ve.jsxs)("div",{className:zs,children:[(0,ve.jsx)("h4",{children:"\ud83e\udd14 Reflection Questions"}),(0,ve.jsx)("ul",{className:qs,children:l.map((e,s)=>(0,ve.jsx)("li",{children:e},s))})]})]})},LearningObjectives:function({objectives:e,cefr_level:s}){const a={Remember:"#90caf9",Understand:"#81c784",Apply:"#ffb74d",Analyze:"#ba68c8",Evaluate:"#e57373",Create:"#ff8a65"},n={Remember:"\ud83d\udcdd",Understand:"\ud83d\udca1",Apply:"\u2699\ufe0f",Analyze:"\ud83d\udd0d",Evaluate:"\u2696\ufe0f",Create:"\ud83c\udfa8"};return(0,ve.jsxs)("div",{className:Bs,children:[(0,ve.jsxs)("div",{className:Ls,children:[(0,ve.jsx)("h3",{className:$s,children:"\ud83c\udfaf Learning Objectives"}),(0,ve.jsxs)("div",{className:Fs,children:[(0,ve.jsx)("span",{className:Rs,children:"CEFR Level:"}),(0,ve.jsx)("span",{className:Os,children:s})]})]}),(0,ve.jsx)("div",{className:Ps,children:e.map((e,s)=>(0,ve.jsxs)("div",{className:Ms,children:[(0,ve.jsx)("div",{className:Ys,children:(0,ve.jsxs)("span",{className:Ws,style:{backgroundColor:a[e.blooms_level]},children:[(0,ve.jsx)("span",{className:Ds,children:n[e.blooms_level]}),(0,ve.jsx)("span",{className:Hs,children:e.blooms_level})]})}),(0,ve.jsx)("div",{className:Qs,children:e.text}),(0,ve.jsxs)("div",{className:Vs,children:[(0,ve.jsx)("span",{className:Us,children:"Assessment:"})," ",e.assessment_method]})]},s))}),(0,ve.jsx)("div",{className:Gs,children:(0,ve.jsxs)("p",{className:Zs,children:[(0,ve.jsxs)("strong",{children:["CEFR ",s,":"]})," This lesson is designed for"," ",s.startsWith("A")&&"beginner-level",s.startsWith("B")&&"intermediate-level",s.startsWith("C")&&"advanced-level"," ","learners with appropriate complexity and prerequisites."]})})]})},Prerequisites:function({prerequisites:e,showCompletionStatus:s=!0}){const[a,n]=(0,t.useState)(new Set);return(0,t.useEffect)(()=>{if(s&&"undefined"!=typeof window)try{const e=localStorage.getItem("studentProgress");if(e){const s=JSON.parse(e),a=new Set(Object.entries(s.lessons||{}).filter(([e,s])=>s.completed).map(([e,s])=>e));n(a)}}catch(e){console.error("Error loading progress data:",e)}},[s]),0===e.length?null:(0,ve.jsxs)("div",{className:Js,children:[(0,ve.jsxs)("div",{className:Xs,children:[(0,ve.jsx)("h3",{className:ea,children:"\ud83d\udcda Prerequisites"}),(0,ve.jsx)("p",{className:sa,children:"Before starting this lesson, make sure you've completed:"})]}),(0,ve.jsx)("ul",{className:aa,children:e.map((e,n)=>{const t=a.has(e.lessonId);return(0,ve.jsxs)("li",{className:na,children:[s&&(0,ve.jsx)("span",{className:ta,"data-completed":t,"aria-label":t?"Completed":"Not completed",children:t?"\u2705":"\u2b1c"}),(0,ve.jsx)(Ks.A,{to:e.link,className:ra,children:e.title})]},n)})}),s&&(0,ve.jsx)("div",{className:ia,children:(0,ve.jsxs)("p",{className:la,children:["\ud83d\udca1 ",(0,ve.jsx)("strong",{children:"Tip:"})," Complete prerequisites are marked with \u2705. Your progress is saved automatically as you complete exercises."]})})]})}}}}]);