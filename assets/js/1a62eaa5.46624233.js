if(void 0===__webpack_require__)var __webpack_require__={};(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7957],{6643:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"chapter-07/lesson-02-llm-planning","title":"Lesson 7.2: LLM-Based Cognitive Planning","description":"Use GPT models to translate natural language into structured robot action plans","source":"@site/docs/chapter-07/lesson-02-llm-planning.md","sourceDirName":"chapter-07","slug":"/chapter-07/lesson-02-llm-planning","permalink":"/physical-ai-book/docs/chapter-07/lesson-02-llm-planning","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"llm","permalink":"/physical-ai-book/docs/tags/llm"},{"inline":true,"label":"gpt","permalink":"/physical-ai-book/docs/tags/gpt"},{"inline":true,"label":"cognitive-planning","permalink":"/physical-ai-book/docs/tags/cognitive-planning"},{"inline":true,"label":"task-decomposition","permalink":"/physical-ai-book/docs/tags/task-decomposition"},{"inline":true,"label":"vla","permalink":"/physical-ai-book/docs/tags/vla"}],"version":"current","frontMatter":{"title":"Lesson 7.2: LLM-Based Cognitive Planning","description":"Use GPT models to translate natural language into structured robot action plans","chapter":7,"lesson":2,"estimated_time":70,"cefr_level":"B2","blooms_level":"Apply","digcomp_level":5,"generated_by":"claude-sonnet-4-5-20250929","source_spec":"specs/002-physical-ai-textbook/spec.md","created":"2025-11-29","last_modified":"2025-11-29","git_author":"hswat","workflow":"/sp.implement","version":"1.0","prerequisites":["chapter-07-lesson-01"],"has_interactive_python":true,"interactive_python_count":1,"has_try_with_ai":false,"try_with_ai_count":0,"tags":["llm","gpt","cognitive-planning","task-decomposition","vla"]},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 7.1: Voice-to-Action with OpenAI Whisper","permalink":"/physical-ai-book/docs/chapter-07/lesson-01-whisper-voice"},"next":{"title":"Lesson 7.3: Natural Language to ROS 2 Actions","permalink":"/physical-ai-book/docs/chapter-07/lesson-03-nl-to-ros2"}}');var s=t(4848),a=t(8453);const o={title:"Lesson 7.2: LLM-Based Cognitive Planning",description:"Use GPT models to translate natural language into structured robot action plans",chapter:7,lesson:2,estimated_time:70,cefr_level:"B2",blooms_level:"Apply",digcomp_level:5,generated_by:"claude-sonnet-4-5-20250929",source_spec:"specs/002-physical-ai-textbook/spec.md",created:"2025-11-29",last_modified:"2025-11-29",git_author:"hswat",workflow:"/sp.implement",version:"1.0",prerequisites:["chapter-07-lesson-01"],has_interactive_python:!0,interactive_python_count:1,has_try_with_ai:!1,try_with_ai_count:0,tags:["llm","gpt","cognitive-planning","task-decomposition","vla"]},r="Lesson 7.2: LLM-Based Cognitive Planning",l={},c=[{value:"\ud83c\udfaf Learning Objectives",id:"-learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"1. LLM Prompt Engineering",id:"1-llm-prompt-engineering",level:2},{value:"Basic Prompt Structure",id:"basic-prompt-structure",level:3},{value:"Advanced Prompting",id:"advanced-prompting",level:3},{value:"2. Task Decomposition",id:"2-task-decomposition",level:2},{value:"Hierarchical Planning",id:"hierarchical-planning",level:3},{value:"3. Action Sequence Generation",id:"3-action-sequence-generation",level:2},{value:"Structured Output",id:"structured-output",level:3},{value:"4. Plan Validation",id:"4-plan-validation",level:2},{value:"Safety Checks",id:"safety-checks",level:3},{value:"5. Exercises",id:"5-exercises",level:2},{value:"Exercise 7.2.1: Task Decomposition",id:"exercise-721-task-decomposition",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{InteractivePython:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("InteractivePython",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"lesson-72-llm-based-cognitive-planning",children:"Lesson 7.2: LLM-Based Cognitive Planning"})}),"\n",(0,s.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83c\udfaf Learning Objectives"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Understand how LLMs can plan robot actions"}),"\n",(0,s.jsx)(n.li,{children:"Design prompts for task decomposition"}),"\n",(0,s.jsx)(n.li,{children:"Generate structured action sequences from natural language"}),"\n",(0,s.jsx)(n.li,{children:"Validate and refine LLM-generated plans"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Time"}),": 70 minutes"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Cognitive Planning"})," uses Large Language Models (LLMs) like GPT to translate high-level natural language commands into detailed action sequences. Instead of hard-coding every possible command, LLMs can understand intent and generate appropriate plans."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input"}),': "Clean the room"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LLM Output"}),":","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Navigate to room"}),"\n",(0,s.jsx)(n.li,{children:"Identify objects to clean"}),"\n",(0,s.jsx)(n.li,{children:"Pick up each object"}),"\n",(0,s.jsx)(n.li,{children:"Place in appropriate location"}),"\n",(0,s.jsx)(n.li,{children:"Return to starting position"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-llm-prompt-engineering",children:"1. LLM Prompt Engineering"}),"\n",(0,s.jsx)(n.h3,{id:"basic-prompt-structure",children:"Basic Prompt Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'prompt = f"""\nYou are a robot planning assistant. Convert the following command into a sequence of actions.\n\nCommand: {user_command}\n\nAvailable actions:\n- move(direction, distance)\n- turn(angle)\n- pick(object_name)\n- place(object_name, location)\n- navigate_to(location)\n\nGenerate a JSON list of actions:\n"""\n\nresponse = openai.ChatCompletion.create(\n    model="gpt-4",\n    messages=[{"role": "user", "content": prompt}]\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"advanced-prompting",children:"Advanced Prompting"}),"\n",(0,s.jsx)(n.p,{children:"Include context about:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Robot capabilities"}),"\n",(0,s.jsx)(n.li,{children:"Current environment state"}),"\n",(0,s.jsx)(n.li,{children:"Safety constraints"}),"\n",(0,s.jsx)(n.li,{children:"Previous actions"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-task-decomposition",children:"2. Task Decomposition"}),"\n",(0,s.jsx)(n.h3,{id:"hierarchical-planning",children:"Hierarchical Planning"}),"\n",(0,s.jsx)(n.p,{children:"Complex tasks need decomposition:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def plan_task(command, context):\n    """Decompose high-level task into sub-tasks."""\n    prompt = f"""\n    Task: {command}\n    Context: {context}\n    \n    Break this into 3-5 sub-tasks. For each sub-task, list:\n    1. Sub-task description\n    2. Required actions\n    3. Prerequisites\n    """\n    \n    # Call LLM\n    plan = call_llm(prompt)\n    return parse_plan(plan)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-action-sequence-generation",children:"3. Action Sequence Generation"}),"\n",(0,s.jsx)(n.h3,{id:"structured-output",children:"Structured Output"}),"\n",(0,s.jsx)(n.p,{children:"Generate JSON-formatted action sequences:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def generate_action_sequence(task_description):\n    """Generate ROS 2 action sequence from task description."""\n    prompt = f"""\n    Convert this task into ROS 2 actions:\n    Task: {task_description}\n    \n    Output JSON format:\n    {{\n        "actions": [\n            {{"type": "navigate", "target": "location"}},\n            {{"type": "pick", "object": "name"}},\n            {{"type": "place", "object": "name", "location": "target"}}\n        ]\n    }}\n    """\n    \n    response = call_llm(prompt)\n    return json.loads(response)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-plan-validation",children:"4. Plan Validation"}),"\n",(0,s.jsx)(n.h3,{id:"safety-checks",children:"Safety Checks"}),"\n",(0,s.jsx)(n.p,{children:"Always validate LLM-generated plans:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def validate_plan(plan):\n    """Validate generated plan for safety and feasibility."""\n    errors = []\n    \n    # Check action types are valid\n    valid_actions = ["move", "turn", "pick", "place", "navigate"]\n    for action in plan["actions"]:\n        if action["type"] not in valid_actions:\n            errors.append(f"Invalid action: {action[\'type\']}")\n    \n    # Check required parameters\n    # Check safety constraints\n    # Check resource availability\n    \n    return len(errors) == 0, errors\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-exercises",children:"5. Exercises"}),"\n",(0,s.jsx)(n.h3,{id:"exercise-721-task-decomposition",children:"Exercise 7.2.1: Task Decomposition"}),"\n",(0,s.jsx)(n.p,{children:'Design a prompt that decomposes "Clean the room" into sub-tasks.'}),"\n",(0,s.jsx)(t,{id:"ex-7-2-1",title:"LLM Task Decomposition",starterCode:'def create_planning_prompt(task):\n  """\n  Create a prompt for LLM to decompose a task.\n  \n  Args:\n      task: Natural language task description\n  \n  Returns:\n      Formatted prompt string\n  """\n  # TODO: Create prompt with task, available actions, and output format\n  pass\n\n# Test\ntask = "Clean the room"\nprompt = create_planning_prompt(task)\nprint(prompt)\n',hints:["Include task description","List available robot actions","Specify desired output format (JSON)","Include safety constraints"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Takeaways"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"LLMs can decompose high-level tasks into action sequences"}),"\n",(0,s.jsx)(n.li,{children:"Prompt engineering is crucial for reliable planning"}),"\n",(0,s.jsx)(n.li,{children:"Always validate LLM-generated plans for safety"}),"\n",(0,s.jsx)(n.li,{children:"Structured output (JSON) enables easy parsing"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"What's Next"}),": ",(0,s.jsx)(n.a,{href:"/physical-ai-book/docs/chapter-07/lesson-03-nl-to-ros2",children:"Lesson 7.3: Natural Language to ROS 2 Actions"})," bridges LLM plans to executable ROS 2 code."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Estimated completion time"}),": 70 minutes | ",(0,s.jsx)(n.strong,{children:"Prerequisites"}),": Lesson 7.1 | ",(0,s.jsx)(n.strong,{children:"Difficulty"}),": B2 (Advanced)"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);