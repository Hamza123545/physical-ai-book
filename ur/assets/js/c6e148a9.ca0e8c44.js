if(void 0===__webpack_require__)var __webpack_require__={};(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6528],{6314:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"chapter-02/lesson-02-nodes-topics","title":"Lesson 2.2: ROS 2 Nodes and Topics","description":"Implement ROS 2 nodes that publish and subscribe to topics using rclpy","source":"@site/i18n/ur/docusaurus-plugin-content-docs/current/chapter-02/lesson-02-nodes-topics.md","sourceDirName":"chapter-02","slug":"/chapter-02/lesson-02-nodes-topics","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-02-nodes-topics","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"ros2","permalink":"/physical-ai-book/ur/docs/tags/ros-2"},{"inline":true,"label":"rclpy","permalink":"/physical-ai-book/ur/docs/tags/rclpy"},{"inline":true,"label":"publishers","permalink":"/physical-ai-book/ur/docs/tags/publishers"},{"inline":true,"label":"subscribers","permalink":"/physical-ai-book/ur/docs/tags/subscribers"},{"inline":true,"label":"topics","permalink":"/physical-ai-book/ur/docs/tags/topics"}],"version":"current","frontMatter":{"title":"Lesson 2.2: ROS 2 Nodes and Topics","description":"Implement ROS 2 nodes that publish and subscribe to topics using rclpy","chapter":2,"lesson":2,"estimated_time":70,"cefr_level":"B1+","blooms_level":"Apply","digcomp_level":4,"generated_by":"claude-sonnet-4-5-20250929","source_spec":"specs/002-physical-ai-textbook/spec.md","created":"2025-11-29","last_modified":"2025-11-29","git_author":"hswat","workflow":"/sp.implement","version":"1.0","prerequisites":["chapter-02-lesson-01"],"has_interactive_python":true,"interactive_python_count":4,"has_try_with_ai":true,"try_with_ai_count":2,"tags":["ros2","rclpy","publishers","subscribers","topics"]},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 2.1: ROS 2 Architecture and Core Concepts","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-01-ros2-architecture"},"next":{"title":"Lesson 2.3: ROS 2 Services and Actions","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-03-services-actions"}}');var i=n(4848),l=n(8453);const t={title:"Lesson 2.2: ROS 2 Nodes and Topics",description:"Implement ROS 2 nodes that publish and subscribe to topics using rclpy",chapter:2,lesson:2,estimated_time:70,cefr_level:"B1+",blooms_level:"Apply",digcomp_level:4,generated_by:"claude-sonnet-4-5-20250929",source_spec:"specs/002-physical-ai-textbook/spec.md",created:"2025-11-29",last_modified:"2025-11-29",git_author:"hswat",workflow:"/sp.implement",version:"1.0",prerequisites:["chapter-02-lesson-01"],has_interactive_python:!0,interactive_python_count:4,has_try_with_ai:!0,try_with_ai_count:2,tags:["ros2","rclpy","publishers","subscribers","topics"]},o="Lesson 2.2: ROS 2 Nodes and Topics",a={},c=[{value:"\ud83c\udfaf Learning Objectives",id:"-learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Introduction",id:"introduction",level:2},{value:"1. Creating a ROS 2 Node",id:"1-creating-a-ros-2-node",level:2},{value:"Basic Node Structure",id:"basic-node-structure",level:3},{value:"Node Lifecycle",id:"node-lifecycle",level:3},{value:"2. Creating a Publisher",id:"2-creating-a-publisher",level:2},{value:"Publisher Example",id:"publisher-example",level:3},{value:"Key Components",id:"key-components",level:3},{value:"3. Creating a Subscriber",id:"3-creating-a-subscriber",level:2},{value:"Subscriber Example",id:"subscriber-example",level:3},{value:"Callback Functions",id:"callback-functions",level:3},{value:"4. Standard Message Types",id:"4-standard-message-types",level:2},{value:"Common Message Types",id:"common-message-types",level:3},{value:"Example: Publishing Twist (Velocity)",id:"example-publishing-twist-velocity",level:3},{value:"5. Complete Example: Sensor Publisher + Control Subscriber",id:"5-complete-example-sensor-publisher--control-subscriber",level:2},{value:"Sensor Node (Publisher)",id:"sensor-node-publisher",level:3},{value:"Control Node (Subscriber)",id:"control-node-subscriber",level:3},{value:"6. Exercises",id:"6-exercises",level:2},{value:"Exercise 2.2.1: Create a Simple Publisher",id:"exercise-221-create-a-simple-publisher",level:3},{value:"Exercise 2.2.2: Create a Subscriber with Callback",id:"exercise-222-create-a-subscriber-with-callback",level:3},{value:"Exercise 2.2.3: Build Sensor-Controller System",id:"exercise-223-build-sensor-controller-system",level:3},{value:"Exercise 2.2.4: Message Type Conversion",id:"exercise-224-message-type-conversion",level:3},{value:"7. Try With AI",id:"7-try-with-ai",level:2},{value:"TryWithAI 2.2.1: Design Sensor Node",id:"trywithai-221-design-sensor-node",level:3},{value:"TryWithAI 2.2.2: Debug Subscriber Code",id:"trywithai-222-debug-subscriber-code",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{InteractivePython:n,Prerequisites:r,TryWithAI:t}=s;return n||h("InteractivePython",!0),r||h("Prerequisites",!0),t||h("TryWithAI",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"lesson-22-ros-2-nodes-and-topics",children:"Lesson 2.2: ROS 2 Nodes and Topics"})}),"\n",(0,i.jsx)(s.h2,{id:"-learning-objectives",children:"\ud83c\udfaf Learning Objectives"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Create ROS 2 nodes using rclpy (Python)"}),"\n",(0,i.jsx)(s.li,{children:"Implement publishers to send messages"}),"\n",(0,i.jsx)(s.li,{children:"Implement subscribers to receive messages"}),"\n",(0,i.jsx)(s.li,{children:"Work with standard ROS 2 message types"}),"\n",(0,i.jsx)(s.li,{children:"Build sensor data publishers and control subscribers"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Time"}),": 70 minutes"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(r,{prerequisites:[{lessonId:"chapter-02-lesson-01",title:"Lesson 2.1: ROS 2 Architecture and Core Concepts",link:"/docs/chapter-02/lesson-01-ros2-architecture"}]}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(s.p,{children:["In this lesson, you'll implement actual ROS 2 nodes using ",(0,i.jsx)(s.strong,{children:"rclpy"})," (ROS 2 Client Library for Python). You'll build nodes that publish sensor data and subscribe to control commands\u2014the foundation of all ROS 2 robot systems."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Key Skills"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Node creation and initialization"}),"\n",(0,i.jsx)(s.li,{children:"Publisher/subscriber setup"}),"\n",(0,i.jsx)(s.li,{children:"Message creation and publishing"}),"\n",(0,i.jsx)(s.li,{children:"Callback functions for subscribers"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"1-creating-a-ros-2-node",children:"1. Creating a ROS 2 Node"}),"\n",(0,i.jsx)(s.h3,{id:"basic-node-structure",children:"Basic Node Structure"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\n\nclass MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node_name')\n        self.get_logger().info('Node started!')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MyNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.h3,{id:"node-lifecycle",children:"Node Lifecycle"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Initialize"}),": ",(0,i.jsx)(s.code,{children:"rclpy.init()"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create Node"}),": Instantiate your node class"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Spin"}),": ",(0,i.jsx)(s.code,{children:"rclpy.spin()"})," keeps node alive"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Shutdown"}),": ",(0,i.jsx)(s.code,{children:"rclpy.shutdown()"})," cleans up"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"2-creating-a-publisher",children:"2. Creating a Publisher"}),"\n",(0,i.jsx)(s.h3,{id:"publisher-example",children:"Publisher Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"from std_msgs.msg import String\n\nclass SensorNode(Node):\n    def __init__(self):\n        super().__init__('sensor_node')\n        # Create publisher\n        self.publisher = self.create_publisher(\n            String,           # Message type\n            '/sensor_data',   # Topic name\n            10                # Queue size\n        )\n        # Create timer to publish periodically\n        self.timer = self.create_timer(1.0, self.publish_data)\n    \n    def publish_data(self):\n        msg = String()\n        msg.data = \"Sensor reading: 42.5\"\n        self.publisher.publish(msg)\n        self.get_logger().info(f'Published: {msg.data}')\n"})}),"\n",(0,i.jsx)(s.h3,{id:"key-components",children:"Key Components"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Message Type"}),": ",(0,i.jsx)(s.code,{children:"String"}),", ",(0,i.jsx)(s.code,{children:"Int32"}),", ",(0,i.jsx)(s.code,{children:"Float64"}),", etc."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Topic Name"}),": ",(0,i.jsx)(s.code,{children:"/sensor_data"})," (use forward slash)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Queue Size"}),": Buffer for messages (typically 10)"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"3-creating-a-subscriber",children:"3. Creating a Subscriber"}),"\n",(0,i.jsx)(s.h3,{id:"subscriber-example",children:"Subscriber Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"from std_msgs.msg import String\n\nclass ControlNode(Node):\n    def __init__(self):\n        super().__init__('control_node')\n        # Create subscriber\n        self.subscription = self.create_subscription(\n            String,              # Message type\n            '/sensor_data',      # Topic name\n            self.listener_callback,  # Callback function\n            10                   # Queue size\n        )\n    \n    def listener_callback(self, msg):\n        self.get_logger().info(f'Received: {msg.data}')\n        # Process the message\n        self.process_command(msg.data)\n    \n    def process_command(self, data):\n        # Your processing logic here\n        pass\n"})}),"\n",(0,i.jsx)(s.h3,{id:"callback-functions",children:"Callback Functions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Called automatically when message arrives"}),"\n",(0,i.jsx)(s.li,{children:"Receives message as parameter"}),"\n",(0,i.jsx)(s.li,{children:"Should be fast (don't block)"}),"\n",(0,i.jsx)(s.li,{children:"Can publish new messages if needed"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"4-standard-message-types",children:"4. Standard Message Types"}),"\n",(0,i.jsx)(s.h3,{id:"common-message-types",children:"Common Message Types"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"from std_msgs.msg import String, Int32, Float64, Bool\nfrom geometry_msgs.msg import Twist, Point, Pose\nfrom sensor_msgs.msg import Image, LaserScan, Imu\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-publishing-twist-velocity",children:"Example: Publishing Twist (Velocity)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"from geometry_msgs.msg import Twist\n\nclass MotorController(Node):\n    def __init__(self):\n        super().__init__('motor_controller')\n        self.publisher = self.create_publisher(\n            Twist, '/cmd_vel', 10\n        )\n    \n    def send_velocity(self, linear_x, angular_z):\n        msg = Twist()\n        msg.linear.x = linear_x\n        msg.angular.z = angular_z\n        self.publisher.publish(msg)\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"5-complete-example-sensor-publisher--control-subscriber",children:"5. Complete Example: Sensor Publisher + Control Subscriber"}),"\n",(0,i.jsx)(s.h3,{id:"sensor-node-publisher",children:"Sensor Node (Publisher)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float64\nimport random\n\nclass SensorNode(Node):\n    def __init__(self):\n        super().__init__('sensor_node')\n        self.publisher = self.create_publisher(\n            Float64, '/distance_sensor', 10\n        )\n        self.timer = self.create_timer(0.1, self.publish_reading)\n        self.get_logger().info('Sensor node started')\n    \n    def publish_reading(self):\n        # Simulate sensor reading\n        reading = random.uniform(0.1, 5.0)\n        msg = Float64()\n        msg.data = reading\n        self.publisher.publish(msg)\n        self.get_logger().info(f'Published distance: {reading:.2f} m')\n"})}),"\n",(0,i.jsx)(s.h3,{id:"control-node-subscriber",children:"Control Node (Subscriber)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float64\n\nclass ControlNode(Node):\n    def __init__(self):\n        super().__init__('control_node')\n        self.subscription = self.create_subscription(\n            Float64, '/distance_sensor',\n            self.distance_callback, 10\n        )\n        self.get_logger().info('Control node started')\n    \n    def distance_callback(self, msg):\n        distance = msg.data\n        if distance < 0.5:\n            self.get_logger().warn('Too close! Stop!')\n        elif distance < 1.0:\n            self.get_logger().info('Approaching obstacle')\n        else:\n            self.get_logger().info('Path clear')\n"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"6-exercises",children:"6. Exercises"}),"\n",(0,i.jsx)(s.h3,{id:"exercise-221-create-a-simple-publisher",children:"Exercise 2.2.1: Create a Simple Publisher"}),"\n",(0,i.jsx)(s.p,{children:"Create a node that publishes a counter value."}),"\n",(0,i.jsx)(n,{id:"ex-2-2-1",title:"Simple Publisher Node",starterCode:'class CounterNode:\n  """Simulate a ROS 2 node that publishes counter values."""\n  \n  def __init__(self):\n      self.counter = 0\n      self.messages_published = []\n  \n  def publish(self):\n      """Publish current counter value."""\n      # TODO: Increment counter and store message\n      pass\n  \n  def get_published_messages(self):\n      return self.messages_published\n\n# Test\nnode = CounterNode()\nfor _ in range(5):\n  node.publish()\n\nprint("Published messages:", node.get_published_messages())\n',hints:["Increment self.counter each time","Append counter value to self.messages_published","Simulate publishing by storing the value"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"exercise-222-create-a-subscriber-with-callback",children:"Exercise 2.2.2: Create a Subscriber with Callback"}),"\n",(0,i.jsx)(s.p,{children:"Create a subscriber that processes incoming messages."}),"\n",(0,i.jsx)(n,{id:"ex-2-2-2",title:"Subscriber with Callback",starterCode:'class MessageSubscriber:\n  """Simulate a ROS 2 subscriber node."""\n  \n  def __init__(self):\n      self.received_messages = []\n      self.processed_count = 0\n  \n  def callback(self, message):\n      """Process incoming message."""\n      # TODO: Store message and increment count\n      pass\n  \n  def receive_messages(self, messages):\n      """Simulate receiving messages."""\n      for msg in messages:\n          self.callback(msg)\n\n# Test\nsubscriber = MessageSubscriber()\nincoming = ["msg1", "msg2", "msg3", "msg4"]\nsubscriber.receive_messages(incoming)\n\nprint(f"Received: {subscriber.received_messages}")\nprint(f"Processed: {subscriber.processed_count}")\n',hints:["Append message to self.received_messages in callback","Increment self.processed_count","Callback is called for each message"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"exercise-223-build-sensor-controller-system",children:"Exercise 2.2.3: Build Sensor-Controller System"}),"\n",(0,i.jsx)(s.p,{children:"Create a complete system with sensor publisher and controller subscriber."}),"\n",(0,i.jsx)(n,{id:"ex-2-2-3",title:"Sensor-Controller System",starterCode:'class SensorControllerSystem:\n  """Complete sensor-controller system."""\n  \n  def __init__(self):\n      self.sensor_data = []\n      self.control_actions = []\n  \n  def sensor_publish(self, value):\n      """Sensor publishes data."""\n      # TODO: Store sensor reading\n      pass\n  \n  def controller_subscribe(self, sensor_value):\n      """Controller receives and processes sensor data."""\n      # TODO: Process sensor value and generate control action\n      # If value < 0.5, return "STOP"\n      # If value < 1.0, return "SLOW"\n      # Otherwise, return "GO"\n      pass\n  \n  def run_simulation(self, sensor_readings):\n      """Simulate sensor-controller interaction."""\n      for reading in sensor_readings:\n          self.sensor_publish(reading)\n          action = self.controller_subscribe(reading)\n          self.control_actions.append(action)\n\n# Test\nsystem = SensorControllerSystem()\nreadings = [2.0, 1.5, 0.8, 0.3, 1.2]\nsystem.run_simulation(readings)\n\nprint("Sensor data:", system.sensor_data)\nprint("Control actions:", system.control_actions)\n',hints:["Store sensor reading in sensor_publish","Controller logic: < 0.5 = STOP, < 1.0 = SLOW, else = GO","Append action to control_actions"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"exercise-224-message-type-conversion",children:"Exercise 2.2.4: Message Type Conversion"}),"\n",(0,i.jsx)(s.p,{children:"Convert between different message representations."}),"\n",(0,i.jsx)(n,{id:"ex-2-2-4",title:"Message Type Handling",starterCode:'def create_twist_message(linear_x, angular_z):\n  """\n  Create a Twist message (velocity command).\n  \n  Args:\n      linear_x: Forward velocity (m/s)\n      angular_z: Angular velocity (rad/s)\n  \n  Returns:\n      Dict representing Twist message\n  """\n  # TODO: Create message structure\n  # Twist has linear (x, y, z) and angular (x, y, z)\n  pass\n\n# Test\nmsg = create_twist_message(0.5, 0.2)\nprint("Twist message:", msg)\nprint(f"Linear X: {msg[\'linear\'][\'x\']}")\nprint(f"Angular Z: {msg[\'angular\'][\'z\']}")\n',hints:["Return dict with 'linear' and 'angular' keys","Each has 'x', 'y', 'z' components","Set linear.x and angular.z, others to 0"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"7-try-with-ai",children:"7. Try With AI"}),"\n",(0,i.jsx)(s.h3,{id:"trywithai-221-design-sensor-node",children:"TryWithAI 2.2.1: Design Sensor Node"}),"\n",(0,i.jsx)(t,{id:"tryai-2-2-1",title:"Design a Camera Sensor Node",role:"Copilot",scenario:"You need to create a ROS 2 node that publishes camera images",yourTask:"Write pseudocode for a camera node that publishes images at 30 FPS. Include node setup, publisher creation, and publishing logic.",aiPromptTemplate:"I'm creating a camera sensor node in ROS 2. Here's my pseudocode: [your code]. Can you review it for correctness, suggest improvements, and help me understand what message type I should use for images?",successCriteria:["You understand node structure","You know how to create publishers","You understand timing/publishing frequency"],reflectionQuestions:["What message type should be used for images?","How do you control publishing frequency?","What happens if publishing is too fast?"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h3,{id:"trywithai-222-debug-subscriber-code",children:"TryWithAI 2.2.2: Debug Subscriber Code"}),"\n",(0,i.jsx)(t,{id:"tryai-2-2-2",title:"Debug Subscriber Implementation",role:"Evaluator",scenario:"Your subscriber isn't receiving messages",yourTask:"Write a subscriber node that should receive Float64 messages on /sensor_data topic, but it's not working. Include your code and describe the problem.",aiPromptTemplate:"I wrote this subscriber code: [your code]. It's not receiving messages. Can you help me debug it? Check for common mistakes like wrong topic names, message types, or missing spin() calls.",successCriteria:["You understand common subscriber mistakes","You can identify missing components","You understand the callback mechanism"],reflectionQuestions:["What are common reasons subscribers don't receive messages?","How do you verify a topic has publishers?","What's the purpose of rclpy.spin()?"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Key Takeaways"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Node Creation"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Inherit from ",(0,i.jsx)(s.code,{children:"Node"})," class"]}),"\n",(0,i.jsxs)(s.li,{children:["Initialize with ",(0,i.jsx)(s.code,{children:"super().__init__()"})]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"rclpy.spin()"})," to keep node alive"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Publishers"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Create with ",(0,i.jsx)(s.code,{children:"create_publisher()"})]}),"\n",(0,i.jsx)(s.li,{children:"Specify message type, topic name, queue size"}),"\n",(0,i.jsx)(s.li,{children:"Use timers for periodic publishing"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Subscribers"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Create with ",(0,i.jsx)(s.code,{children:"create_subscription()"})]}),"\n",(0,i.jsx)(s.li,{children:"Provide callback function"}),"\n",(0,i.jsx)(s.li,{children:"Callback receives message automatically"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Message Types"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Standard types: ",(0,i.jsx)(s.code,{children:"String"}),", ",(0,i.jsx)(s.code,{children:"Int32"}),", ",(0,i.jsx)(s.code,{children:"Float64"})]}),"\n",(0,i.jsxs)(s.li,{children:["Geometry: ",(0,i.jsx)(s.code,{children:"Twist"}),", ",(0,i.jsx)(s.code,{children:"Point"}),", ",(0,i.jsx)(s.code,{children:"Pose"})]}),"\n",(0,i.jsxs)(s.li,{children:["Sensors: ",(0,i.jsx)(s.code,{children:"Image"}),", ",(0,i.jsx)(s.code,{children:"LaserScan"}),", ",(0,i.jsx)(s.code,{children:"Imu"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"What's Next"}),": ",(0,i.jsx)(s.a,{href:"/physical-ai-book/ur/docs/chapter-02/lesson-03-services-actions",children:"Lesson 2.3: ROS 2 Services and Actions"})," covers request-response communication and long-running tasks."]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Estimated completion time"}),": 70 minutes | ",(0,i.jsx)(s.strong,{children:"Prerequisites"}),": Lesson 2.1 | ",(0,i.jsx)(s.strong,{children:"Difficulty"}),": B1+ (Upper Intermediate)"]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}function h(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>o});var r=n(6540);const i={},l=r.createContext(i);function t(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);