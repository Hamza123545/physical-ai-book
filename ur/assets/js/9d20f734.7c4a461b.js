if(void 0===__webpack_require__)var __webpack_require__={};(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7346],{3229:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"chapter-02/lesson-04-rclpy-packages","title":"Lesson 2.4: Building ROS 2 Packages with Python (rclpy)","description":"Create complete ROS 2 packages with proper structure and Python agents","source":"@site/i18n/ur/docusaurus-plugin-content-docs/current/chapter-02/lesson-04-rclpy-packages.md","sourceDirName":"chapter-02","slug":"/chapter-02/lesson-04-rclpy-packages","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-04-rclpy-packages","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"ros2","permalink":"/physical-ai-book/ur/docs/tags/ros-2"},{"inline":true,"label":"packages","permalink":"/physical-ai-book/ur/docs/tags/packages"},{"inline":true,"label":"rclpy","permalink":"/physical-ai-book/ur/docs/tags/rclpy"},{"inline":true,"label":"python-agents","permalink":"/physical-ai-book/ur/docs/tags/python-agents"},{"inline":true,"label":"setup.py","permalink":"/physical-ai-book/ur/docs/tags/setup-py"}],"version":"current","frontMatter":{"title":"Lesson 2.4: Building ROS 2 Packages with Python (rclpy)","description":"Create complete ROS 2 packages with proper structure and Python agents","chapter":2,"lesson":4,"estimated_time":70,"cefr_level":"B2","blooms_level":"Apply","digcomp_level":5,"generated_by":"claude-sonnet-4-5-20250929","source_spec":"specs/002-physical-ai-textbook/spec.md","created":"2025-11-29","last_modified":"2025-11-29","git_author":"hswat","workflow":"/sp.implement","version":"1.0","prerequisites":["chapter-02-lesson-03"],"has_interactive_python":true,"interactive_python_count":4,"has_try_with_ai":true,"try_with_ai_count":2,"tags":["ros2","packages","rclpy","python-agents","setup.py"]},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 2.3: ROS 2 Services and Actions","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-03-services-actions"},"next":{"title":"Lesson 2.5: URDF for Humanoids and Launch Files","permalink":"/physical-ai-book/ur/docs/chapter-02/lesson-05-urdf-launch"}}');var a=s(4848),r=s(8453);const i={title:"Lesson 2.4: Building ROS 2 Packages with Python (rclpy)",description:"Create complete ROS 2 packages with proper structure and Python agents",chapter:2,lesson:4,estimated_time:70,cefr_level:"B2",blooms_level:"Apply",digcomp_level:5,generated_by:"claude-sonnet-4-5-20250929",source_spec:"specs/002-physical-ai-textbook/spec.md",created:"2025-11-29",last_modified:"2025-11-29",git_author:"hswat",workflow:"/sp.implement",version:"1.0",prerequisites:["chapter-02-lesson-03"],has_interactive_python:!0,interactive_python_count:4,has_try_with_ai:!0,try_with_ai_count:2,tags:["ros2","packages","rclpy","python-agents","setup.py"]},o="Lesson 2.4: Building ROS 2 Packages with Python (rclpy)",c={},d=[{value:"\ud83c\udfaf Learning Objectives",id:"-learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Introduction",id:"introduction",level:2},{value:"1. ROS 2 Package Structure",id:"1-ros-2-package-structure",level:2},{value:"Standard Package Layout",id:"standard-package-layout",level:3},{value:"2. Creating a ROS 2 Package",id:"2-creating-a-ros-2-package",level:2},{value:"Using ros2 pkg create",id:"using-ros2-pkg-create",level:3},{value:"Package Structure",id:"package-structure",level:3},{value:"3. package.xml",id:"3-packagexml",level:2},{value:"Package Metadata",id:"package-metadata",level:3},{value:"Key Elements",id:"key-elements",level:3},{value:"4. setup.py",id:"4-setuppy",level:2},{value:"Python Package Setup",id:"python-package-setup",level:3},{value:"Entry Points",id:"entry-points",level:3},{value:"5. Python Agent Integration",id:"5-python-agent-integration",level:2},{value:"Bridging Python Agents to ROS 2",id:"bridging-python-agents-to-ros-2",level:3},{value:"6. Building and Installing",id:"6-building-and-installing",level:2},{value:"Build Package",id:"build-package",level:3},{value:"Source Workspace",id:"source-workspace",level:3},{value:"Run Node",id:"run-node",level:3},{value:"7. Launch Files",id:"7-launch-files",level:2},{value:"Creating Launch Files",id:"creating-launch-files",level:3},{value:"Running Launch Files",id:"running-launch-files",level:3},{value:"8. Exercises",id:"8-exercises",level:2},{value:"Exercise 2.4.1: Package Structure",id:"exercise-241-package-structure",level:3},{value:"Exercise 2.4.2: Entry Points Configuration",id:"exercise-242-entry-points-configuration",level:3},{value:"Exercise 2.4.3: Dependency Management",id:"exercise-243-dependency-management",level:3},{value:"Exercise 2.4.4: Python Agent Bridge",id:"exercise-244-python-agent-bridge",level:3},{value:"9. Try With AI",id:"9-try-with-ai",level:2},{value:"TryWithAI 2.4.1: Package Design Review",id:"trywithai-241-package-design-review",level:3},{value:"TryWithAI 2.4.2: Integrate Custom Python Code",id:"trywithai-242-integrate-custom-python-code",level:3},{value:"Summary",id:"summary",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{InteractivePython:s,Prerequisites:t,TryWithAI:i}=n;return s||h("InteractivePython",!0),t||h("Prerequisites",!0),i||h("TryWithAI",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lesson-24-building-ros-2-packages-with-python-rclpy",children:"Lesson 2.4: Building ROS 2 Packages with Python (rclpy)"})}),"\n",(0,a.jsx)(n.h2,{id:"-learning-objectives",children:"\ud83c\udfaf Learning Objectives"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create ROS 2 package structure"}),"\n",(0,a.jsx)(n.li,{children:"Set up package dependencies"}),"\n",(0,a.jsx)(n.li,{children:"Build Python agents that integrate with ROS 2"}),"\n",(0,a.jsx)(n.li,{children:"Organize code into proper ROS 2 packages"}),"\n",(0,a.jsx)(n.li,{children:"Understand package.xml and setup.py"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Time"}),": 70 minutes"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(t,{prerequisites:[{lessonId:"chapter-02-lesson-03",title:"Lesson 2.3: ROS 2 Services and Actions",link:"/docs/chapter-02/lesson-03-services-actions"}]}),"\n",(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsxs)(n.p,{children:["A ",(0,a.jsx)(n.strong,{children:"ROS 2 package"})," is the fundamental unit for organizing and distributing ROS 2 code. Packages contain nodes, launch files, configuration, and dependencies. This lesson teaches you to create professional ROS 2 packages with proper structure."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Key Concepts"}),":"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Package structure and organization"}),"\n",(0,a.jsx)(n.li,{children:"Dependencies management"}),"\n",(0,a.jsx)(n.li,{children:"Python package setup"}),"\n",(0,a.jsx)(n.li,{children:"Building and installing packages"}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"1-ros-2-package-structure",children:"1. ROS 2 Package Structure"}),"\n",(0,a.jsx)(n.h3,{id:"standard-package-layout",children:"Standard Package Layout"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"my_robot_package/\n\u251c\u2500\u2500 package.xml          # Package metadata and dependencies\n\u251c\u2500\u2500 setup.py             # Python package setup\n\u251c\u2500\u2500 setup.cfg             # Package configuration\n\u251c\u2500\u2500 CMakeLists.txt        # Build configuration (for C++ or mixed)\n\u251c\u2500\u2500 my_robot_package/    # Python package directory\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 nodes/           # Node scripts\n\u2502       \u251c\u2500\u2500 __init__.py\n\u2502       \u251c\u2500\u2500 sensor_node.py\n\u2502       \u2514\u2500\u2500 control_node.py\n\u2514\u2500\u2500 launch/              # Launch files\n    \u2514\u2500\u2500 robot.launch.py\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"2-creating-a-ros-2-package",children:"2. Creating a ROS 2 Package"}),"\n",(0,a.jsx)(n.h3,{id:"using-ros2-pkg-create",children:"Using ros2 pkg create"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Create Python package\nros2 pkg create --build-type ament_python my_robot_package\n\n# Create with dependencies\nros2 pkg create --build-type ament_python \\\n    --dependencies rclpy std_msgs geometry_msgs \\\n    my_robot_package\n"})}),"\n",(0,a.jsx)(n.h3,{id:"package-structure",children:"Package Structure"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd my_robot_package\nmkdir -p my_robot_package/nodes\nmkdir -p launch\ntouch my_robot_package/__init__.py\ntouch my_robot_package/nodes/__init__.py\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"3-packagexml",children:"3. package.xml"}),"\n",(0,a.jsx)(n.h3,{id:"package-metadata",children:"Package Metadata"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>\n<package format="3">\n  <name>my_robot_package</name>\n  <version>1.0.0</version>\n  <description>My robot control package</description>\n  <maintainer email="developer@example.com">Developer Name</maintainer>\n  <license>MIT</license>\n\n  <depend>rclpy</depend>\n  <depend>std_msgs</depend>\n  <depend>geometry_msgs</depend>\n  <depend>sensor_msgs</depend>\n\n  <test_depend>ament_copyright</test_depend>\n  <test_depend>ament_flake8</test_depend>\n  <test_depend>ament_pep257</test_depend>\n  <test_depend>python3-pytest</test_depend>\n\n  <export>\n    <build_type>ament_python</build_type>\n  </export>\n</package>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"key-elements",children:"Key Elements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"name"}),": Package name"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"version"}),": Package version"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"depend"}),": Runtime dependencies"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"test_depend"}),": Testing dependencies"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"4-setuppy",children:"4. setup.py"}),"\n",(0,a.jsx)(n.h3,{id:"python-package-setup",children:"Python Package Setup"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from setuptools import setup\nimport os\nfrom glob import glob\n\npackage_name = 'my_robot_package'\n\nsetup(\n    name=package_name,\n    version='1.0.0',\n    packages=[package_name, f'{package_name}.nodes'],\n    data_files=[\n        ('share/ament_index/resource_index/packages',\n            ['resource/' + package_name]),\n        ('share/' + package_name, ['package.xml']),\n        (os.path.join('share', package_name, 'launch'),\n            glob('launch/*.launch.py')),\n    ],\n    install_requires=['setuptools'],\n    zip_safe=True,\n    maintainer='Developer Name',\n    maintainer_email='developer@example.com',\n    description='My robot control package',\n    license='MIT',\n    tests_require=['pytest'],\n    entry_points={\n        'console_scripts': [\n            'sensor_node = my_robot_package.nodes.sensor_node:main',\n            'control_node = my_robot_package.nodes.control_node:main',\n        ],\n    },\n)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"entry-points",children:"Entry Points"}),"\n",(0,a.jsx)(n.p,{children:"Entry points make nodes executable:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"entry_points={\n    'console_scripts': [\n        'sensor_node = my_robot_package.nodes.sensor_node:main',\n    ],\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["This allows running: ",(0,a.jsx)(n.code,{children:"ros2 run my_robot_package sensor_node"})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"5-python-agent-integration",children:"5. Python Agent Integration"}),"\n",(0,a.jsx)(n.h3,{id:"bridging-python-agents-to-ros-2",children:"Bridging Python Agents to ROS 2"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass PythonAgentNode(Node):\n    """Bridge between Python AI agent and ROS 2."""\n    \n    def __init__(self):\n        super().__init__(\'python_agent_node\')\n        \n        # ROS 2 publishers/subscribers\n        self.command_pub = self.create_publisher(\n            String, \'/robot_commands\', 10\n        )\n        self.sensor_sub = self.create_subscription(\n            String, \'/sensor_data\',\n            self.sensor_callback, 10\n        )\n        \n        # Python AI agent (your custom code)\n        self.ai_agent = MyAIAgent()\n        \n        self.get_logger().info(\'Python agent node started\')\n    \n    def sensor_callback(self, msg):\n        """Process sensor data with AI agent."""\n        # Get sensor data\n        sensor_data = msg.data\n        \n        # Process with AI agent\n        decision = self.ai_agent.process(sensor_data)\n        \n        # Publish command\n        cmd_msg = String()\n        cmd_msg.data = decision\n        self.command_pub.publish(cmd_msg)\n\nclass MyAIAgent:\n    """Example Python AI agent."""\n    \n    def process(self, data):\n        # Your AI logic here\n        if "obstacle" in data.lower():\n            return "stop"\n        return "continue"\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = PythonAgentNode()\n    rclpy.spin(node)\n    rclpy.shutdown()\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"6-building-and-installing",children:"6. Building and Installing"}),"\n",(0,a.jsx)(n.h3,{id:"build-package",children:"Build Package"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# From workspace root\ncd ~/ros2_ws\ncolcon build --packages-select my_robot_package\n"})}),"\n",(0,a.jsx)(n.h3,{id:"source-workspace",children:"Source Workspace"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n",(0,a.jsx)(n.h3,{id:"run-node",children:"Run Node"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 run my_robot_package sensor_node\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"7-launch-files",children:"7. Launch Files"}),"\n",(0,a.jsx)(n.h3,{id:"creating-launch-files",children:"Creating Launch Files"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_robot_package',\n            executable='sensor_node',\n            name='sensor_node',\n            output='screen'\n        ),\n        Node(\n            package='my_robot_package',\n            executable='control_node',\n            name='control_node',\n            output='screen'\n        ),\n    ])\n"})}),"\n",(0,a.jsx)(n.h3,{id:"running-launch-files",children:"Running Launch Files"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_package robot.launch.py\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"8-exercises",children:"8. Exercises"}),"\n",(0,a.jsx)(n.h3,{id:"exercise-241-package-structure",children:"Exercise 2.4.1: Package Structure"}),"\n",(0,a.jsx)(n.p,{children:"Design the structure for a robot package with multiple nodes."}),"\n",(0,a.jsx)(s,{id:"ex-2-4-1",title:"Package Structure Design",starterCode:'def design_package_structure(package_name):\n  """\n  Design ROS 2 package structure.\n  \n  Package should have:\n  - Sensor node\n  - Control node\n  - Planning node\n  - Launch file\n  \n  Return dict with structure.\n  """\n  structure = {\n      "package_name": package_name,\n      "nodes": [],\n      "launch_files": [],\n      "dependencies": []\n  }\n  # TODO: Fill in structure\n  return structure\n\n# Test\nstructure = design_package_structure("my_robot")\nprint("Package structure:", structure)\n',hints:["Nodes: sensor_node, control_node, planning_node","Launch file: robot.launch.py","Dependencies: rclpy, std_msgs, geometry_msgs"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"exercise-242-entry-points-configuration",children:"Exercise 2.4.2: Entry Points Configuration"}),"\n",(0,a.jsx)(n.p,{children:"Create entry points for multiple nodes."}),"\n",(0,a.jsx)(s,{id:"ex-2-4-2",title:"Entry Points Configuration",starterCode:'def create_entry_points(nodes):\n  """\n  Create entry points configuration for nodes.\n  \n  Args:\n      nodes: List of (node_name, module_path) tuples\n  \n  Returns:\n      Dict with entry_points structure\n  """\n  # TODO: Create entry_points dict\n  # Format: \'node_name = package.module:main\'\n  pass\n\n# Test\nnodes = [\n  ("sensor_node", "my_robot.nodes.sensor_node"),\n  ("control_node", "my_robot.nodes.control_node"),\n  ("planner_node", "my_robot.nodes.planner_node")\n]\n\nentry_points = create_entry_points(nodes)\nprint("Entry points:", entry_points)\n',hints:["Entry points format: 'executable_name = module.path:function'","Use 'console_scripts' key","Each node needs executable name and module path"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"exercise-243-dependency-management",children:"Exercise 2.4.3: Dependency Management"}),"\n",(0,a.jsx)(n.p,{children:"Identify dependencies for a robot package."}),"\n",(0,a.jsx)(s,{id:"ex-2-4-3",title:"Package Dependencies",starterCode:'def identify_dependencies(features):\n  """\n  Identify ROS 2 dependencies based on features.\n  \n  Features:\n  - "camera": Needs sensor_msgs\n  - "navigation": Needs nav_msgs, geometry_msgs\n  - "manipulation": Needs moveit_msgs\n  - "ai_planning": Needs rclpy, std_msgs\n  """\n  dependencies = []\n  # TODO: Map features to dependencies\n  return dependencies\n\n# Test\nfeatures = ["camera", "navigation", "ai_planning"]\ndeps = identify_dependencies(features)\nprint("Dependencies:", deps)\n',hints:["Camera \u2192 sensor_msgs","Navigation \u2192 nav_msgs, geometry_msgs","AI planning \u2192 rclpy, std_msgs","All need rclpy"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"exercise-244-python-agent-bridge",children:"Exercise 2.4.4: Python Agent Bridge"}),"\n",(0,a.jsx)(n.p,{children:"Create a bridge between Python agent and ROS 2."}),"\n",(0,a.jsx)(s,{id:"ex-2-4-4",title:"Python Agent to ROS 2 Bridge",starterCode:'class AgentBridge:\n  """Bridge between Python agent and ROS 2."""\n  \n  def __init__(self):\n      self.received_messages = []\n      self.published_commands = []\n  \n  def receive_sensor_data(self, sensor_value):\n      """Receive sensor data (simulating ROS 2 subscriber)."""\n      # TODO: Store sensor data\n      pass\n  \n  def process_with_agent(self, sensor_value):\n      """Process with AI agent logic."""\n      # Simple agent: if value > 5, return "stop", else "go"\n      # TODO: Implement agent logic\n      pass\n  \n  def publish_command(self, command):\n      """Publish command (simulating ROS 2 publisher)."""\n      # TODO: Store published command\n      pass\n  \n  def process_pipeline(self, sensor_readings):\n      """Complete pipeline: receive \u2192 process \u2192 publish."""\n      for reading in sensor_readings:\n          self.receive_sensor_data(reading)\n          command = self.process_with_agent(reading)\n          self.publish_command(command)\n\n# Test\nbridge = AgentBridge()\nreadings = [3.0, 6.5, 2.1, 7.8, 1.5]\nbridge.process_pipeline(readings)\n\nprint("Received:", bridge.received_messages)\nprint("Published:", bridge.published_commands)\n',hints:["Store sensor values in received_messages","Agent logic: value > 5 \u2192 'stop', else \u2192 'go'","Store commands in published_commands"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"9-try-with-ai",children:"9. Try With AI"}),"\n",(0,a.jsx)(n.h3,{id:"trywithai-241-package-design-review",children:"TryWithAI 2.4.1: Package Design Review"}),"\n",(0,a.jsx)(i,{id:"tryai-2-4-1",title:"Review Package Structure",role:"Evaluator",scenario:"You've created a ROS 2 package but want to ensure it follows best practices",yourTask:"Describe your package structure: what nodes you have, how you organized files, and what dependencies you included. Ask for review.",aiPromptTemplate:"I created a ROS 2 package with this structure: [your description]. Can you review it for best practices? Check package organization, dependency management, and suggest improvements.",successCriteria:["You understand proper package structure","You know how to organize nodes","You understand dependency management"],reflectionQuestions:["What's the purpose of setup.py?","How do entry points work?","What dependencies does your package need?"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h3,{id:"trywithai-242-integrate-custom-python-code",children:"TryWithAI 2.4.2: Integrate Custom Python Code"}),"\n",(0,a.jsx)(i,{id:"tryai-2-4-2",title:"Integrate Python Agent with ROS 2",role:"Copilot",scenario:"You have a Python AI agent and want to integrate it with ROS 2",yourTask:"Describe your Python agent (what it does, what inputs/outputs it has) and ask how to integrate it with ROS 2 nodes.",aiPromptTemplate:"I have a Python AI agent that [description]. It takes [inputs] and returns [outputs]. How should I integrate this with ROS 2? Should I create a node that wraps it, or integrate it directly into existing nodes?",successCriteria:["You understand how to bridge Python code to ROS 2","You know how to structure the integration","You understand node architecture"],reflectionQuestions:["Where should your agent logic live?","How do you handle ROS 2 callbacks with agent processing?","What's the best way to structure this?"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Key Takeaways"}),":"]}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Package Structure"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Standard layout: nodes/, launch/, package.xml, setup.py"}),"\n",(0,a.jsx)(n.li,{children:"Organize code into logical modules"}),"\n",(0,a.jsx)(n.li,{children:"Use proper Python package structure"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Dependencies"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Declare in package.xml"}),"\n",(0,a.jsx)(n.li,{children:"Include runtime and test dependencies"}),"\n",(0,a.jsx)(n.li,{children:"Use appropriate message types"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Entry Points"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Define in setup.py"}),"\n",(0,a.jsxs)(n.li,{children:["Make nodes executable via ",(0,a.jsx)(n.code,{children:"ros2 run"})]}),"\n",(0,a.jsxs)(n.li,{children:["Format: ",(0,a.jsx)(n.code,{children:"executable_name = package.module:function"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Python Agent Integration"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Create ROS 2 nodes that wrap Python agents"}),"\n",(0,a.jsx)(n.li,{children:"Use publishers/subscribers for communication"}),"\n",(0,a.jsx)(n.li,{children:"Bridge between AI code and robot hardware"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"What's Next"}),": ",(0,a.jsx)(n.a,{href:"/physical-ai-book/ur/docs/chapter-02/lesson-05-urdf-launch",children:"Lesson 2.5: URDF for Humanoids and Launch Files"})," teaches you to model humanoid robots and create launch files."]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Estimated completion time"}),": 70 minutes | ",(0,a.jsx)(n.strong,{children:"Prerequisites"}),": Lesson 2.3 | ",(0,a.jsx)(n.strong,{children:"Difficulty"}),": B2 (Advanced)"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(6540);const a={},r=t.createContext(a);function i(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);